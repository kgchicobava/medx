(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{204:function(e,a,t){e.exports=t(430)},209:function(e,a,t){},211:function(e,a,t){},430:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(49),c=t.n(l),o=(t(209),t(9)),i=t(10),s=t(13),m=t(11),d=t(12),u=t(433),h=t(432),p=t(436),g=(t(211),t(75)),E=t(182),f=t(37),b=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},y={isPatientAuthenticated:!1,isDoctorAuthenticated:!1,user:{}},v={},C={loading:!1},O={monday:[],tuesday:[],wednesday:[],thursday:[],friday:[]},N=Object(g.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_DOCTOR":return Object(f.a)({},e,{isDoctorAuthenticated:!b(a.data),user:a.data});case"SET_PATIENT":return Object(f.a)({},e,{isPatientAuthenticated:!b(a.data),user:a.data});case"LOGOUT":return Object(f.a)({},e,{isPatientAuthenticated:!1,isDoctorAuthenticated:!1});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ERRORS":return a.data;case"CLEAR_ERRORS":return{};default:return e}},general:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FIND_TOKEN":return Object(f.a)({},e,{findedDoctor:a.data,loading:!1});case"CLEAR_FINDED_DOCTOR":return Object(f.a)({},e,{findedDoctor:"",loading:!1});case"GET_PATIENTS_LIST":return Object(f.a)({},e,{loading:!1,patientData:a.data});case"PATIENTS_LOADING":return Object(f.a)({},e,{loading:!0});case"GET_DOCTORS_LIST":return Object(f.a)({},e,{loading:!1,doctorData:a.data});case"GET_PATIENT_RECORD":return Object(f.a)({},e,{loading:!1,patientRecords:a.data});case"GET_PATIENT_RECEPIE":return Object(f.a)({},e,{loading:!1,patientRecepie:a.data});case"DOCTORS_LOADING":return Object(f.a)({},e,{loading:!0});default:return e}},appointments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_APPOINTMENTS":return a.data;case"APPOINTMENT_ADD":return e[a.day].push(a.appointment),Object(f.a)({},e);default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_SETTINGS":return a.data;default:return e}},stats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_STATS":return Object(f.a)({},e,{quantity:a.data.quantity,sexesPie:a.data.sexesPie,sexesBar:a.data.sexesBar,business:a.data.business,satisfaction:a.data.satisfaction,monthlyVisitors:a.data.monthlyVisitors});default:return e}}}),j=[E.a],S=Object(g.e)(N,{},Object(g.d)(g.a.apply(void 0,j),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),w=t(22),P=t(34),k=t.n(P),x=function(e){e?k.a.defaults.headers.common.Authorization=e:delete k.a.defaults.headers.common.Authorization},T=t(112),A=t.n(T),D=t(14),B=t(3),M=t.n(B),I=t(20),R=t.n(I),_=t(431),W=t(43),F=t.n(W),L=t(64),z=t.n(L),G=t(21),U=t.n(G),H=t(113),Y=t.n(H);var q=Object(D.withStyles)({root:{flexGrow:1},center:{textAlign:"center"},end:{justifyContent:"flex-end"}})(function(e){var a=e.classes;return r.a.createElement("div",{className:a.root},r.a.createElement(F.a,{position:"static",color:"primary"},r.a.createElement(z.a,null,e.back?r.a.createElement(U.a,{href:e.toLocation},r.a.createElement(Y.a,null)):"",r.a.createElement(M.a,{variant:"h6",color:"inherit"},e.headerLabel))))}),X=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(q,{headerLabel:"Med-X"}),r.a.createElement("div",{className:e.dimensions},r.a.createElement(M.a,{variant:"h4",align:"center"},"Welcome to Med-X"),r.a.createElement(M.a,{variant:"h6",align:"center"},"Simple medical info-system, that allows patients communicate with doctors and vice versa"),r.a.createElement(_.a,{to:"/register"},r.a.createElement(R.a,{className:e.margins,variant:"contained",fullWidth:!0,color:"secondary",size:"large"},"Register")),r.a.createElement(_.a,{to:"/login"},r.a.createElement(R.a,{variant:"outlined",fullWidth:!0,color:"secondary",size:"large"},"Login"))))}}]),a}(n.Component),V=Object(D.withStyles)(function(e){return{root:Object(f.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),dimensions:{width:"30vw",height:"30vw",margin:"15vh auto"},margins:{margin:"1vw auto"}}})(X),K=t(38),Q=t(2),J=t(19),Z=t.n(J),$=t(55),ee=t.n($),ae=t(50),te=t.n(ae),ne=t(48),re=t.n(ne),le=function(e){switch(e.typeOfUser){case"Doctor":return{type:"SET_DOCTOR",data:e};case"Patient":return{type:"SET_PATIENT",data:e};default:return{type:"LOGOUT",data:{}}}},ce=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={email:"",password:"",errors:{}},t.onChange=t.onChange.bind(Object(Q.a)(Object(Q.a)(t))),t.onSubmit=t.onSubmit.bind(Object(Q.a)(Object(Q.a)(t))),t.loginErr=t.loginErr.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){"Doctor"===this.props.auth.user.typeOfUser&&this.props.auth.isAuthenticated&&this.props.history.push("/doctor/home"),"Patient"===this.props.auth.user.typeOfUser&&this.props.auth.isAuthenticated&&this.props.history.push("/patient/home")}},{key:"onSubmit",value:function(e){e.preventDefault();var a={email:this.state.email,password:this.state.password};this.props.loginUser(a)}},{key:"onChange",value:function(e){var a;this.setState((a={},Object(K.a)(a,e.target.name,e.target.value),Object(K.a)(a,"errors",{}),a))}},{key:"loginErr",value:function(e){if(e)return r.a.createElement("div",{className:"login-err"},e)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),"Patient"===e.auth.user.typeOfUser&&e.auth.isPatientAuthenticated&&this.props.history.push("/patient/home"),"Doctor"===e.auth.user.typeOfUser&&e.auth.isDoctorAuthenticated&&this.props.history.push("/doctor/home")}},{key:"render",value:function(){var e=this.props.classes,a=this.state.errors;return r.a.createElement("div",null,r.a.createElement(q,{headerLabel:"Login",back:!0,toLocation:"/"}),r.a.createElement(Z.a,{elevation:3,className:e.paperWidth},r.a.createElement(M.a,{className:e.typographyPadding,variant:"h4",align:"center"},"Log In"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"login-container"},this.loginErr("".concat(a?a.email?a.email:a.password?a.password:"":"")),r.a.createElement(re.a,{error:a.email},r.a.createElement(te.a,null,"Enter your E-mail"),r.a.createElement(ee.a,{name:"email",type:"email",placeholder:"E-Mail",className:"".concat(e.width," ").concat(e.margin),required:!0,onChange:this.onChange})),r.a.createElement(re.a,{error:a.password},r.a.createElement(te.a,null,"Enter your password"),r.a.createElement(ee.a,{name:"password",type:"password",placeholder:"Password",className:"".concat(e.width," ").concat(e.margin),required:!0,onChange:this.onChange})),r.a.createElement(R.a,{variant:"contained",color:"secondary",className:"".concat(e.width," ").concat(e.margin),onClick:this.onSubmit},"Submit")))))}}]),a}(n.Component),oe=Object(w.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(a){k.a.post("/api/user/login",{userdata:e}).then(function(e){if(e.data.token){var t=e.data.token;localStorage.setItem("jwtToken",t),x(t);var n=A()(t);a(le(n))}}).catch(function(e){console.log(e.response),a({type:"GET_ERRORS",data:e.response.data})})}}})(Object(D.withStyles)(function(e){return{width:{width:"25vw"},margin:{margin:"2vh auto"},paperWidth:{width:"400px",height:"350px",margin:"10vh auto"},typographyPadding:{paddingTop:"3vh"}}})(ce)),ie=t(435),se=t(140),me=t.n(se),de=t(139),ue=t.n(de),he=t(87),pe=t.n(he),ge=t(66),Ee=t.n(ge),fe=t(65),be=t.n(fe);var ye=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).state={firstName:"",lastName:"",email:"",password:"",password2:"",typeOfUser:"",errors:{}},e.onChange=e.onChange.bind(Object(Q.a)(Object(Q.a)(e))),e.onSubmit=e.onSubmit.bind(Object(Q.a)(Object(Q.a)(e))),e.registerErr=e.registerErr.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"onChange",value:function(e){var a;this.setState((a={},Object(K.a)(a,e.target.name,e.target.value),Object(K.a)(a,"errors",{}),a))}},{key:"registerErr",value:function(e){if(e)return r.a.createElement("div",{className:"register-err"},e)}},{key:"onSubmit",value:function(e){e.preventDefault();var a={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,password:this.state.password,password2:this.state.password2,typeOfUser:this.state.typeOfUser,color:["red","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange"][Math.floor(16*Math.random())]};"Doctor"===this.state.typeOfUser&&this.props.registerDoctor(a,this.props.history),"Patient"===this.state.typeOfUser&&this.props.registerPatient(a,this.props.history)}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.props.classes,a=this.state.errors;return r.a.createElement("div",null,r.a.createElement(q,{headerLabel:"Register",back:!0,toLocation:"/"}),r.a.createElement(Z.a,{elevation:3,className:e.paper},r.a.createElement(M.a,{className:e.typographyPadding,variant:"h4",align:"center"},"Register"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:e.layout},r.a.createElement(re.a,{error:a.firstName},r.a.createElement(te.a,null,"First name"),r.a.createElement(ee.a,{name:"firstName",type:"text",placeholder:"First name",required:!0,onChange:this.onChange}),this.registerErr("".concat(a.firstName?a.firstName:""))),r.a.createElement(re.a,{className:e.marginTop,error:a.lastName},r.a.createElement(te.a,null,"Last name"),r.a.createElement(ee.a,{name:"lastName",type:"text",placeholder:"Last name",required:!0,onChange:this.onChange}),this.registerErr("".concat(a.lastName?a.lastName:""))),r.a.createElement(re.a,{className:e.marginTop,error:a.email},r.a.createElement(te.a,null,"E-mail"),r.a.createElement(ee.a,{name:"email",type:"email",placeholder:"Enter your E-mail",required:!0,onChange:this.onChange}),this.registerErr("".concat(a.email?a.email:""))),r.a.createElement(re.a,{className:e.marginTop,error:a.password},r.a.createElement(te.a,null,"Password"),r.a.createElement(ee.a,{name:"password",type:"password",placeholder:"Enter your password",required:!0,onChange:this.onChange}),this.registerErr("".concat(a.password?a.password:""))),r.a.createElement(re.a,{className:e.marginTop,error:a.password2},r.a.createElement(te.a,null,"Password confirm"),r.a.createElement(ee.a,{name:"password2",type:"password",placeholder:"Confirm your password",required:!0,onChange:this.onChange}),this.registerErr("".concat(a.password2?a.password2:""))),r.a.createElement(re.a,{className:e.marginTop,required:!0,error:a.typeOfUser,component:"fieldset"},r.a.createElement(ue.a,{component:"legend"},"Choose your role"),r.a.createElement(pe.a,{name:"typeOfUser",required:!0,value:this.state.typeOfValue,onChange:this.onChange},r.a.createElement(be.a,{value:"Doctor",control:r.a.createElement(Ee.a,{color:"secondary"}),label:"Doctor",labelPlacement:"end"}),r.a.createElement(be.a,{value:"Patient",control:r.a.createElement(Ee.a,{color:"secondary"}),label:"Patient",labelPlacement:"end"})),r.a.createElement(me.a,null,"You can`t change this in future"),this.registerErr("".concat(a.typeOfUser?a.typeOfUser:""))),r.a.createElement(re.a,{className:"".concat(e.marginTop," ").concat(e.row)},r.a.createElement(R.a,{className:e.buttonLayout,variant:"contained",color:"secondary",type:"submit"},"Register"),r.a.createElement(R.a,{className:e.buttonLayout,variant:"outlined",color:"secondary",onClick:this.onSubmit,href:"/"},"Cancel"))))))}}]),a}(n.Component),ve=Object(w.b)(function(e){return{auth:e.auth,errors:e.errors,general:e.general}},{registerDoctor:function(e,a){return function(t){console.log(a),k.a.post("/api/doctors/register",{userdata:e}).then(function(e){a.push("/login")}).catch(function(e){return t({type:"GET_ERRORS",data:e.response.data})})}},registerPatient:function(e,a){return function(t){k.a.post("/api/patients/register",{userdata:e}).then(function(e){a.push("/login")}).catch(function(e){return t({type:"GET_ERRORS",data:e.response.data})})}}})(Object(D.withStyles)(function(e){return{paper:{width:"50vw",margin:"3vh auto",paddingTop:"5vh"},layout:{width:"60%",height:"100%",margin:"3vh auto",display:"flex",flexDirection:"column"},row:{flexDirection:"row",marginBottom:"5vh"},buttonLayout:{width:"48%",margin:"auto"},typographyPadding:{paddingTop:"3vh"},marginTop:{marginTop:"5vh"}}})(Object(ie.a)(ye))),Ce=t(130),Oe=t(434),Ne=Object(w.b)(function(e){return{auth:e.auth}})(function(e){var a=e.component,t=e.auth,n=Object(Ce.a)(e,["component","auth"]);return r.a.createElement(h.a,Object.assign({},n,{render:function(e){return!0===t.isDoctorAuthenticated?r.a.createElement(a,e):r.a.createElement(Oe.a,{to:"/login"})}}))}),je=Object(w.b)(function(e){return{auth:e.auth}})(function(e){var a=e.component,t=e.auth,n=Object(Ce.a)(e,["component","auth"]);return r.a.createElement(h.a,Object.assign({},n,{render:function(e){return!0===t.isPatientAuthenticated?r.a.createElement(a,e):r.a.createElement(Oe.a,{to:"/login"})}}))}),Se=t(29),we=t.n(Se),Pe=t(186),ke=t.n(Pe),xe=t(58),Te=t.n(xe),Ae=t(56),De=t.n(Ae),Be=t(71),Me=t.n(Be),Ie=t(70),Re=t.n(Ie),_e=t(88),We=t.n(_e),Fe=t(69),Le=t.n(Fe),ze=t(15),Ge=t.n(ze),Ue=t(72),He=t.n(Ue),Ye=t(185);function qe(e,a){return[e.match(/^./g)[0].toUpperCase(),a.match(/^./g)[0].toUpperCase()]}var Xe=function(){return function(e){e({type:"CLEAR_FINDED_DOCTOR"})}},Ve=function(e){return function(a){a({type:"PATIENTS_LOADING"}),k.a.get("/api/patients/records/".concat(e)).then(function(e){a({type:"GET_PATIENT_RECORD",data:e.data})}).catch(function(e){return console.log(e)})}},Ke=function(e){return function(a){a({type:"PATIENTS_LOADING"}),k.a.get("/api/patients/recepies/".concat(e)).then(function(e){a({type:"GET_PATIENT_RECEPIE",data:e.data})}).catch(function(e){return console.log(e)})}},Qe=function(e,a){k.a.post("/api/doctors/rating",{stars:e,doctorID:a}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},Je=function(e,a){k.a.post("/api/patients/unsubscribe",{patientID:e,doctorID:a}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},Ze=(new(t(338))).generate(),$e=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleProfileMenuOpen=function(e){t.setState({anchorEl:e.currentTarget})},t.handleMenuClose=function(){t.setState({anchorEl:null}),t.handleMobileMenuClose()},t.handleMobileMenuOpen=function(e){t.setState({mobileMoreAnchorEl:e.currentTarget})},t.handleMobileMenuClose=function(){t.setState({mobileMoreAnchorEl:null})},t.dialogOpen=function(){t.setState({open:!0})},t.dialogClose=function(){t.setState({open:!1})},t.dialogCopy=function(){t.setState({snackOpen:!0})},t.snackClose=function(){t.setState({snackOpen:!1})},t.handleSend=function(){var e=t.props.auth.user.id;t.props.setToken(Ze,e),t.setState({open:!1})},t.state={anchorEl:null,mobileMoreAnchorEl:null,open:!1,snackOpen:!1},t.handleProfileMenuOpen=t.handleProfileMenuOpen.bind(Object(Q.a)(Object(Q.a)(t))),t.handleMenuClose=t.handleMenuClose.bind(Object(Q.a)(Object(Q.a)(t))),t.handleMobileMenuOpen=t.handleMobileMenuOpen.bind(Object(Q.a)(Object(Q.a)(t))),t.handleMobileMenuClose=t.handleMobileMenuClose.bind(Object(Q.a)(Object(Q.a)(t))),t.dialogOpen=t.dialogOpen.bind(Object(Q.a)(Object(Q.a)(t))),t.dialogClose=t.dialogClose.bind(Object(Q.a)(Object(Q.a)(t))),t.dialogCopy=t.dialogCopy.bind(Object(Q.a)(Object(Q.a)(t))),t.snackClose=t.snackClose.bind(Object(Q.a)(Object(Q.a)(t))),t.handleSend=t.handleSend.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.anchorEl,a=this.props.classes,t=Boolean(e),n=qe(this.props.auth.user.firstName,this.props.auth.user.lastName).join(""),l=r.a.createElement(ke.a,{anchorEl:e,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:t,onClose:this.handleMenuClose},r.a.createElement(we.a,{onClick:this.handleMenuClose},"My Profile"),"Doctor"===this.props.userRole?r.a.createElement("div",null,r.a.createElement(we.a,{onClick:this.dialogOpen},"Generate token"),r.a.createElement(_.a,{to:"/doctor/home/settings"},r.a.createElement(we.a,null,"Settings"))):"","Patient"===this.props.userRole?r.a.createElement(_.a,{to:"/patient/home/settings"},r.a.createElement(we.a,{onClick:this.onSettings},"Settings")):"",r.a.createElement(we.a,{onClick:this.props.logout},"Logout"));return r.a.createElement("div",{className:a.root},r.a.createElement(De.a,{open:this.state.open,onClose:this.dialogClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Le.a,{id:"form-dialog-title"},"Generate Token"),r.a.createElement(Re.a,null,r.a.createElement(We.a,null,"Send this unrecognasible letters to your patient`s email, to be sure that only him can be your client"),r.a.createElement(Ge.a,{autoFocus:!0,margin:"dense",id:"name",label:"Token",type:"text",value:Ze,fullWidth:!0})),r.a.createElement(Me.a,null,r.a.createElement(R.a,{onClick:this.dialogClose,color:"primary"},"Cancel"),r.a.createElement(Ye.CopyToClipboard,{text:Ze},r.a.createElement(R.a,{onClick:this.dialogCopy,color:"primary"},"Copy")),r.a.createElement(R.a,{onClick:this.handleSend,color:"primary"},"Submit"))),r.a.createElement(He.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.snackClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"Copied!")}),r.a.createElement(F.a,{position:"static"},r.a.createElement(z.a,null,this.props.back?r.a.createElement(U.a,{href:this.props.toLocation},r.a.createElement(Y.a,null)):"",r.a.createElement(M.a,{className:a.title,variant:"h6",color:"inherit",noWrap:!0},this.props.userRole),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(U.a,{"aria-owns":t?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},r.a.createElement(Te.a,{className:a.avatar},n))))),l)}}]),a}(r.a.Component),ea=Object(w.b)(function(e){return{auth:e.auth}},{logout:function(){return function(e){localStorage.removeItem("jwtToken"),x(!1),e(le({}))}},setToken:function(e,a){return function(t){k.a.post("/api/doctors/tokens",{token:e,id:a}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}}})(Object(D.withStyles)(function(e){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(K.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit",width:"100%"},avatar:{color:"#fff",backgroundColor:"#f15e09"},inputInput:Object(K.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(K.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"})}})($e)),aa=t(74),ta=t.n(aa),na=t(41),ra=t.n(na),la=t(100),ca=t.n(la),oa=t(117),ia=t(129),sa=t(190),ma=t.n(sa),da=t(118),ua=t.n(da),ha=t(89),pa=t.n(ha),ga=t(73),Ea=t.n(ga),fa=t(120),ba=t.n(fa),ya=t(121),va=t.n(ya),Ca=t(61),Oa=t.n(Ca),Na=t(99),ja=t.n(Na),Sa=t(122),wa=t.n(Sa),Pa={red:{bgc:"#F44336",color:"#000"},pink:{bgc:"#E91E63",color:"#000"},purple:{bgc:"#9C27B0",color:"#000"},deepPurple:{bgc:"#673AB7",color:"#000"},indigo:{bgc:"#3F51B5",color:"#000"},blue:{bgc:"#2196F3",color:"#000"},lightBlue:{bgc:"#03A9F4",color:"#000"},cyan:{bgc:"#00BCD4",color:"#000"},teal:{bgc:"#009688",color:"#000"},green:{bgc:"#4CAF50",color:"#000"},lightGreen:{bgc:"#8BC34A",color:"#000"},lime:{bgc:"#CDDC39",color:"#000"},yellow:{bgc:"#FFEB3B",color:"#000"},amber:{bgc:"#FFC107",color:"#000"},orange:{bgc:"#FF9800",color:"#000"},deepOrange:{bgc:"#FF5722",color:"#000"},brown:{bgc:"#795548",color:"#000"},grey:{bgc:"#9E9E9E",color:"#000"},blueGrey:{bgc:"#607D8B",color:"#000"}},ka=t(119),xa=t.n(ka),Ta=t(187),Aa=t.n(Ta),Da=t(188),Ba=t.n(Da),Ma=t(30),Ia=t.n(Ma),Ra=t(31),_a=t.n(Ra),Wa=t(33),Fa=t.n(Wa),La=t(32),za=t.n(La),Ga=t(189),Ua=t.n(Ga),Ha=t(52),Ya=t.n(Ha),qa=t(54),Xa=t.n(qa),Va=t(17),Ka=t.n(Va),Qa=t(59),Ja=t.n(Qa),Za=t(60),$a=t.n(Za),et=t(35),at=t.n(et),tt=t(45),nt=t.n(tt),rt=t(47),lt=t.n(rt),ct=t(46),ot=t.n(ct),it=t(44),st=t.n(it),mt=t(53),dt=t.n(mt),ut=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){t.props.onChangePage(e,0)},t.handleBackButtonClick=function(e){t.props.onChangePage(e,t.props.page-1)},t.handleNextButtonClick=function(e){t.props.onChangePage(e,t.props.page+1)},t.handleLastPageButtonClick=function(e){t.props.onChangePage(e,Math.max(0,Math.ceil(t.props.count/t.props.rowsPerPage)-1))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.count,n=e.page,l=e.rowsPerPage,c=e.theme;return r.a.createElement("div",{className:a.root},r.a.createElement(U.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===c.direction?r.a.createElement(st.a,null):r.a.createElement(nt.a,null)),r.a.createElement(U.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===c.direction?r.a.createElement(ot.a,null):r.a.createElement(lt.a,null)),r.a.createElement(U.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(t/l)-1,"aria-label":"Next Page"},"rtl"===c.direction?r.a.createElement(lt.a,null):r.a.createElement(ot.a,null)),r.a.createElement(U.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(t/l)-1,"aria-label":"Last Page"},"rtl"===c.direction?r.a.createElement(nt.a,null):r.a.createElement(st.a,null)))}}]),a}(n.Component),ht=Object(D.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(ut),pt=0,gt=[];function Et(e,a,t){return{id:pt+=1,doctor:e,record:a,date:t}}var ft=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).componentDidMount=function(){t.props.getPatientsRecords(t.props.user._id)},t.onAddRecord=function(){var e=new Date,a={diaryRecord:t.state.diaryRecord,date:"".concat(e.getHours(),":").concat(e.getMinutes(),", ").concat(e.getDate(),".").concat(e.getMonth()+1,".").concat(e.getFullYear()),doctor:"".concat(t.props.auth.user.firstName," ").concat(t.props.auth.user.lastName)};t.props.sendDiaryRecord(a,t.props.user._id),t.setState({diaryRecord:""}),gt.unshift(Et(a.doctor,a.diaryRecord,a.date))},t.handleChangePage=function(e,a){t.setState({page:a})},t.handleChangeRowsPerPage=function(e){t.setState({rowsPerPage:e.target.value})},t.state={page:0,rowsPerPage:5,diaryRecord:""},t.onAddRecord=t.onAddRecord.bind(Object(Q.a)(Object(Q.a)(t))),t.handleChangePage=t.handleChangePage.bind(Object(Q.a)(Object(Q.a)(t))),t.handleChangeRowsPerPage=t.handleChangeRowsPerPage.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.classes,t=this.state,n=t.rowsPerPage,l=t.page,c=this.props.general.patientRecords;if(null==c);else if(0===gt.length)for(var o=0;o<c.length;o++)gt.unshift(Et(c[o].doctor,c[o].diaryRecord,c[o].date));var i=n-Math.min(n,gt.length-l*n);return r.a.createElement(Z.a,{className:a.root},r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Ge.a,{multiline:!0,placeholder:"placeholder",value:this.state.diaryRecord,label:"label",className:a.inputAdjustment,variant:"outlined",onChange:function(a){e.setState({diaryRecord:a.target.value})}}),r.a.createElement(R.a,{variant:"contained",onClick:this.onAddRecord,className:a.btnAdd,color:"secondary"},"Add record")),r.a.createElement("div",{className:a.tableWrapper},r.a.createElement(Ya.a,{className:a.table},r.a.createElement(dt.a,null,r.a.createElement(at.a,null,r.a.createElement(Ka.a,null,"Doctor"),r.a.createElement(Ka.a,null,"Diary records"),r.a.createElement(Ka.a,null,"Date"))),r.a.createElement(Xa.a,null,gt.slice(l*n,l*n+n).map(function(e){return r.a.createElement(at.a,{key:e.id},r.a.createElement(Ka.a,{style:{fontSize:"1.2em"},component:"th",scope:"row"},e.doctor),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.record),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.date))}),i>0&&r.a.createElement(at.a,{style:{height:48*i}},r.a.createElement(Ka.a,{colSpan:6}))),r.a.createElement(Ja.a,null,r.a.createElement(at.a,null,r.a.createElement($a.a,{rowsPerPageOptions:[5,10,25],colSpan:3,count:gt.length,rowsPerPage:n,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:ht}))))))}}]),a}(n.Component),bt=Object(w.b)(function(e){return{auth:e.auth,general:e.general}},{sendDiaryRecord:function(e,a){return function(t){k.a.post("/api/patients/setdiaryrecord",{record:e,patientID:a}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},getPatientsRecords:Ve})(Object(D.withStyles)(function(e){return{root:{width:"100%"},table:{minWidth:500},tableWrapper:{overflowX:"auto"},inputAdjustment:{width:"100%",margin:"1em"},btnAdd:{width:"20%",marginRight:"2em"}}})(ft)),yt=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){t.props.onChangePage(e,0)},t.handleBackButtonClick=function(e){t.props.onChangePage(e,t.props.page-1)},t.handleNextButtonClick=function(e){t.props.onChangePage(e,t.props.page+1)},t.handleLastPageButtonClick=function(e){t.props.onChangePage(e,Math.max(0,Math.ceil(t.props.count/t.props.rowsPerPage)-1))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.count,n=e.page,l=e.rowsPerPage,c=e.theme;return r.a.createElement("div",{className:a.root},r.a.createElement(U.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===c.direction?r.a.createElement(st.a,null):r.a.createElement(nt.a,null)),r.a.createElement(U.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===c.direction?r.a.createElement(ot.a,null):r.a.createElement(lt.a,null)),r.a.createElement(U.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(t/l)-1,"aria-label":"Next Page"},"rtl"===c.direction?r.a.createElement(lt.a,null):r.a.createElement(ot.a,null)),r.a.createElement(U.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(t/l)-1,"aria-label":"Last Page"},"rtl"===c.direction?r.a.createElement(nt.a,null):r.a.createElement(st.a,null)))}}]),a}(r.a.Component),vt=Object(D.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(yt),Ct=0,Ot=[];function Nt(e,a,t,n){return{id:Ct+=1,doctor:e,meds:a,order:t,date:n}}var jt=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleChangePage=function(e,a){t.setState({page:a})},t.handleChangeRowsPerPage=function(e){t.setState({rowsPerPage:e.target.value})},t.componentDidMount=function(){t.props.getPatientsRecepies(t.props.user._id)},t.onAddRecepie=function(){var e=new Date,a={meds:t.state.meds,order:t.state.order,date:"".concat(e.getHours(),":").concat(e.getMinutes(),", ").concat(e.getDate(),".").concat(e.getMonth()+1,".").concat(e.getFullYear()),doctor:"".concat(t.props.auth.user.firstName," ").concat(t.props.auth.user.lastName)};t.props.sendRecepie(a,t.props.user._id),t.setState({meds:"",order:""}),Ot.unshift(Nt(a.doctor,a.meds,a.order,a.date))},t.state={page:0,rowsPerPage:5,meds:"",order:""},t.handleChangePage=t.handleChangePage.bind(Object(Q.a)(Object(Q.a)(t))),t.handleChangeRowsPerPage=t.handleChangeRowsPerPage.bind(Object(Q.a)(Object(Q.a)(t))),t.onAddRecepie=t.onAddRecepie.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.classes,t=this.state,n=t.rowsPerPage,l=t.page,c=n-Math.min(n,Ot.length-l*n),o=this.props.general.patientRecepie;if(null==o);else if(0===Ot.length)for(var i=0;i<o.length;i++)Ot.unshift(Nt(o[i].doctor,o[i].meds,o[i].order,o[i].date));return r.a.createElement(Z.a,{className:a.root},r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Ge.a,{multiline:!0,value:this.state.meds,onChange:function(a){return e.setState({meds:a.target.value})},placeholder:"placeholder",label:"label",className:a.inputAdjustment,variant:"outlined"}),r.a.createElement(Ge.a,{multiline:!0,value:this.state.order,onChange:function(a){return e.setState({order:a.target.value})},placeholder:"placeholder",label:"label",className:a.inputAdjustment,variant:"outlined"}),r.a.createElement(R.a,{variant:"contained",onClick:this.onAddRecepie,className:a.btnAdd,color:"secondary"},"Add")),r.a.createElement("div",{className:a.tableWrapper},r.a.createElement(Ya.a,{className:a.table},r.a.createElement(dt.a,null,r.a.createElement(at.a,null,r.a.createElement(Ka.a,null,"Doctor"),r.a.createElement(Ka.a,null,"What medicines to use"),r.a.createElement(Ka.a,null,"In what order"),r.a.createElement(Ka.a,null,"Date"))),r.a.createElement(Xa.a,null,Ot.slice(l*n,l*n+n).map(function(e){return r.a.createElement(at.a,{key:e.id},r.a.createElement(Ka.a,{style:{fontSize:"1.2em"},component:"th",scope:"row"},e.doctor),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.meds),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.order),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.date))}),c>0&&r.a.createElement(at.a,{style:{height:48*c}},r.a.createElement(Ka.a,{colSpan:6}))),r.a.createElement(Ja.a,null,r.a.createElement(at.a,null,r.a.createElement($a.a,{rowsPerPageOptions:[5,10,25],colSpan:3,count:Ot.length,rowsPerPage:n,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:vt}))))))}}]),a}(r.a.Component),St=Object(w.b)(function(e){return{auth:e.auth,general:e.general}},{sendRecepie:function(e,a){return function(t){k.a.post("/api/patients/setrecepie",{recepie:e,patientID:a}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},getPatientsRecepies:Ke})(Object(D.withStyles)(function(e){return{root:{width:"100%"},table:{minWidth:500},tableWrapper:{overflowX:"auto"},inputAdjustment:{width:"100%",margin:"1em"},btnAdd:{width:"20%",marginRight:"2em"}}})(jt));function wt(e){return r.a.createElement(M.a,{component:"div",style:{padding:24}},e.children)}var Pt=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e,a){t.setState({value:a})},t.state={value:0},t.handleChange=t.handleChange.bind(Object(Q.a)(Object(Q.a)(t))),t.generalInfo=t.generalInfo.bind(Object(Q.a)(Object(Q.a)(t))),t.medicalQuestions=t.medicalQuestions.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"generalInfo",value:function(e,a){return r.a.createElement("div",{className:"profileGrid"},r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(ua.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.settings.address.city,", ").concat(e.settings.address.street," ").concat(e.settings.address.number))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Ea.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.settings.phone))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(pa.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.settings.birthday))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(xa.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.settings.sex))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(ba.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.settings.email))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(va.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.settings.work))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Aa.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.settings.maritalStatus))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Ba.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.settings.height,"cm/").concat(e.settings.weight,"kg"))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Ua.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.settings.blood.type," ").concat(e.settings.rhesus))),r.a.createElement(Ia.a,{className:"emergencyPanel"},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"In case of emergency!")),r.a.createElement(Fa.a,null,r.a.createElement(M.a,{variant:"subtitle1"},"Call contact ".concat(e.settings.emergency.fName," ").concat(e.settings.emergency.lName," which is ").concat(e.settings.emergency.relation,", Phone number: ").concat(e.settings.emergency.phoneNumber)))))}},{key:"medicalQuestions",value:function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:""},r.a.createElement(M.a,{variant:"h5"},"Allergies: ".concat(e.settings.allergies)),r.a.createElement(M.a,{variant:"h5"},"Allergies on medicines: ".concat(e.settings.medAllergies)),r.a.createElement(M.a,{variant:"h5"},"Injuries: ".concat(e.settings.injuries)),r.a.createElement(M.a,{variant:"h5"},"Past operations: ".concat(e.settings.operations)),r.a.createElement(M.a,{variant:"h5"},"Current medicines: ".concat(e.settings.currMeds))))}},{key:"render",value:function(){var e=this.props,a=e.classes,t=e.user,n=this.state.value;return r.a.createElement("div",null,r.a.createElement("div",{className:a.root},r.a.createElement(F.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(ta.a,{value:n,onChange:this.handleChange,centered:!0,variant:"fullWidth"},r.a.createElement(ra.a,{label:"General"}),r.a.createElement(ra.a,{label:"Medical questions"}),r.a.createElement(ra.a,{label:"E-card"}),r.a.createElement(ra.a,{label:"Recepies"}))),0===n&&r.a.createElement(wt,null,this.generalInfo(t,a)),1===n&&r.a.createElement(wt,null,this.medicalQuestions(t)),2===n&&r.a.createElement(wt,null,r.a.createElement(bt,{user:t})),3===n&&r.a.createElement(wt,null,r.a.createElement(St,{user:t}))))}}]),a}(n.Component),kt=Object(D.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},infoItems:{marginLeft:".5em",fontSize:"1.3em"}}})(Pt),xt=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.user,n=qe(t.firstName,t.lastName).join("");return r.a.createElement("div",null,r.a.createElement(Z.a,{className:a.root,elevation:1},r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Te.a,{style:{backgroundColor:"".concat(Pa[t.color].bgc)},className:a.purpleAvatar},n),r.a.createElement(M.a,{variant:"h3"},"".concat(t.firstName," ").concat(t.lastName)))),r.a.createElement(Z.a,{className:a.secondPaper,elevation:2},r.a.createElement(kt,{user:t})))}}]),a}(n.Component),Tt=Object(D.withStyles)(function(e){return{root:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:"80%",margin:"auto"},purpleAvatar:{marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit,color:"#fff",width:150,fontSize:"50px",height:150,backgroundColor:wa.a[500]},secondPaper:{width:"80%",margin:"1em auto"}}})(xt),At=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).infoItem=function(e,a){return r.a.createElement("div",{className:"flex flex-center infoItemMargin"},e,r.a.createElement(M.a,{variant:"subtitle1"},a||"N/A"))},t.closeProfile=function(){t.setState({open:!1})},t.state={open:!1},t.infoItem=t.infoItem.bind(Object(Q.a)(Object(Q.a)(t))),t.closeProfile=t.closeProfile.bind(Object(Q.a)(Object(Q.a)(t))),t.calculateAge=t.calculateAge.bind(Object(Q.a)(Object(Q.a)(t))),t.Transition=t.Transition.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"Transition",value:function(e){return r.a.createElement(ja.a,Object.assign({direction:"up"},e))}},{key:"calculateAge",value:function(e){var a=Date.now()-e.getTime(),t=new Date(a);return Math.abs(t.getUTCFullYear()-1970)}},{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.user;n.settings||(n.settings={birthday:"N/A",address:{city:"N/A",street:"N/A",number:"N/A"},phone:"N/A",work:"N/A",blood:{type:"N/A",rhesus:"N/A"}});var l=n.settings?n.settings.birthday.split("-"):"",c=Object(oa.a)(Date,Object(ia.a)(l));return r.a.createElement("div",null,r.a.createElement(Z.a,{className:t.root,elevation:1},r.a.createElement("div",{className:"flex flex-center infoItemMargin"},r.a.createElement(ma.a,{className:"iconMargin",fontSize:"large"}),r.a.createElement(M.a,{variant:"h6"},"".concat(n.firstName," ").concat(n.lastName))),this.infoItem(r.a.createElement(ua.a,{className:"iconMargin"}),"".concat(n.settings.address.city,", ").concat(n.settings.address.street," ").concat(n.settings.address.number)),this.infoItem(r.a.createElement(pa.a,{className:"iconMargin"}),"".concat(c.getDate(),".").concat(c.getMonth()+1,".").concat(c.getFullYear()," (").concat(this.calculateAge(c)," years)")),this.infoItem(r.a.createElement(Ea.a,{className:"iconMargin"}),"+38".concat(n.settings.phone)),this.infoItem(r.a.createElement(ba.a,{className:"iconMargin"}),"".concat(n.email)),this.infoItem(r.a.createElement(va.a,{className:"iconMargin"}),"".concat(n.settings.work)),r.a.createElement(R.a,{className:t.showBtn,variant:"outlined",color:"secondary",onClick:function(){return e.setState({open:!0})}},"Show")),r.a.createElement(De.a,{fullScreen:!0,open:this.state.open,onClose:this.closeProfile,TransitionComponent:this.Transition},r.a.createElement(F.a,{className:t.appBar},r.a.createElement(z.a,null,r.a.createElement(U.a,{color:"inherit",onClick:this.closeProfile,"aria-label":"Close"},r.a.createElement(Oa.a,null)),r.a.createElement(M.a,{variant:"h6",color:"inherit",className:t.flex},"".concat(this.props.user.firstName," ").concat(this.props.user.lastName)))),r.a.createElement(Tt,{user:this.props.user})))}}]),a}(n.Component),Dt=Object(D.withStyles)(function(e){return{root:Object(f.a)({},e.mixins.gutters(),{paddingTop:1.5*e.spacing.unit,paddingBottom:1.5*e.spacing.unit,margin:"auto",width:"85%",display:"flex",flexWrap:"wrap",marginBottom:".5em"}),showBtn:{marginLeft:"auto"},appBar:{position:"relative"}}})(At),Bt=t(191),Mt=t.n(Bt);var It=Object(D.withStyles)(function(e){return{progress:{display:"block",margin:"20% auto"}}})(function(e){var a=e.classes;return r.a.createElement("div",null,r.a.createElement(Mt.a,{className:a.progress}))}),Rt=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getPatientsList(this.props.auth.user.id)}},{key:"render",value:function(){var e=null,a=this.props.general.patientData;return e=null==a?r.a.createElement(It,null):a.map(function(e,a){return r.a.createElement(Dt,{key:a,user:e})}),r.a.createElement("div",null,e)}}]),a}(n.Component),_t=Object(w.b)(function(e){return{auth:e.auth,general:e.general}},{getPatientsList:function(e){return function(a){a({type:"PATIENTS_LOADING"}),k.a.get("/api/doctors/".concat(e)).then(function(e){a({type:"GET_PATIENTS_LIST",data:e.data})}).catch(function(e){return console.log(e)})}}})(Rt),Wt=t(78),Ft=t.n(Wt),Lt=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props.stats,t=a.quantity,n=a.sexesPie,l=a.sexesBar,c=a.business,o=a.satisfaction,i=a.monthlyVisitors;return r.a.createElement("div",{className:"grid-stats"},r.a.createElement("div",{className:"stats-quantity"},r.a.createElement(Z.a,{elevation:3},r.a.createElement(M.a,{className:e.headerMargin,align:"center",variant:"h5"},"Quantity"),r.a.createElement(M.a,{align:"center",variant:"subtitle1"},"You have"),r.a.createElement(Ft.a,{height:"100%",width:"100%",type:"radialBar",options:t.options,series:t.series}),r.a.createElement(M.a,{align:"center",variant:"subtitle1"},"Patients"))),r.a.createElement("div",{className:"stats-sex"},r.a.createElement(Z.a,{elevation:3},r.a.createElement(M.a,{className:e.headerMargin,align:"center",variant:"h5"},"Sex"),r.a.createElement(Ft.a,{options:n.options,series:n.series,type:"pie",width:"100%",height:"150%"}))),r.a.createElement("div",{className:"stats-ages"},r.a.createElement(Z.a,{elevation:3},r.a.createElement(M.a,{className:e.headerMargin,align:"center",variant:"h5"},"Ages"),r.a.createElement(Ft.a,{options:l.options,series:l.series,height:"150%",width:"100%",type:"bar"}))),r.a.createElement("div",{className:"stats-visits"},r.a.createElement(Z.a,{elevation:3},r.a.createElement(M.a,{className:e.headerMargin,align:"center",variant:"h5"},"Visits"),r.a.createElement(Ft.a,{options:c.options,series:c.series,height:"150%",width:"100%",type:"line"}))),r.a.createElement("div",{className:"stats-satisfaction"},r.a.createElement(Z.a,{elevation:3},r.a.createElement(M.a,{className:e.headerMargin,align:"center",variant:"h5"},"Patients Satisfaction"),r.a.createElement(Ft.a,{options:o.options,series:o.series,type:"donut",height:"150%",width:"100%"}))),r.a.createElement("div",{className:"stats-month"},r.a.createElement(Z.a,{elevation:3},r.a.createElement(M.a,{className:e.headerMargin,align:"center",variant:"h5"},"Monthly stats"),r.a.createElement(M.a,{align:"center",variant:"subtitle1"},"You have"),r.a.createElement(Ft.a,{type:"radialBar",options:i.options,series:i.series,height:"100%",width:"100%"}),r.a.createElement(M.a,{align:"center",variant:"subtitle1"},"Visits this month"))))}}]),a}(n.Component),zt=Object(D.withStyles)(function(e){return{paperStats:{margin:"1%"},headerMargin:{marginTop:"1vh"}}})(Lt),Gt=function(e){return function(a){k.a.get("/api/patients/appointments/".concat(e)).then(function(e){a({type:"GET_APPOINTMENTS",data:e.data})}).catch(function(e){return console.log(e)})}},Ut=function(e,a,t,n){return function(r){k.a.post("/api/doctors/appointments/add",{doctorID:t,patientID:n,appointment:e,day:a}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),r({type:"APPOINTMENT_ADD",data:e,day:a})}},Ht=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Yt=function(e,a){return a.substring(e.toString().length)+e},qt=function(e,a){return"".concat(Yt(e,"00"),":").concat(Yt(a,"00"))},Xt=function(e,a){var t=new Date(e);return t.setDate(t.getDate()+a),t},Vt=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).normalizeTimeBlocks=function(e){var a={},n={},r=function(a){e[a].forEach(function(e){var t=e.time_start,r=e.time_end,l=0;if("00:00"===t&&"00:00"===r)l=Math.ceil(96);else for(var c=t.split(":"),o=parseInt(c[0]),i=parseInt(c[1]),s=e.startTime;s!==e.time_end;)l++,(i+=15)>=60&&(i=0,o+=1),s=qt(o,i);n[t]=n[t]||{},n[t][a]=Object.assign({},e,{blockSpan:l})})};for(var l in e)r(l);for(var c=7;c<19;c++)for(var o=0;o<60;o+=15){var i=qt(c,o);a[i]=n[i]||{}}t.timeBlocks=a},t.normalizeTimeBlocks(t.props.appointments),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=[];for(var a in this.timeBlocks){var t=this.timeBlocks[a];e.push(r.a.createElement(Qt,{key:a},r.a.createElement($t,{className:"calendar__cell--time-col"},a),r.a.createElement(en,{className:"calendar__cell--time-spacing"}),r.a.createElement(en,{appointment:t.monday,day:"monday",time:a}),r.a.createElement(en,{appointment:t.tuesday,day:"tuesday",time:a}),r.a.createElement(en,{appointment:t.wednesday,day:"wednesday",time:a}),r.a.createElement(en,{appointment:t.thursday,day:"thursday",time:a}),r.a.createElement(en,{appointment:t.friday,day:"friday",time:a})))}var n=function(e){var a=new Date(e),t=e.getDay(),n=e.getDate()-t+(0===t?-6:1);return a.setDate(n),a}(new Date);return r.a.createElement("div",{className:"calendar"},r.a.createElement(Qt,null,r.a.createElement(Zt,{className:"calendar__cell--time-col"}),r.a.createElement(Jt,{className:"calendar__cell--time-spacing"}),r.a.createElement(Zt,{day:n}),r.a.createElement(Zt,{day:Xt(n,1)}),r.a.createElement(Zt,{day:Xt(n,2)}),r.a.createElement(Zt,{day:Xt(n,3)}),r.a.createElement(Zt,{day:Xt(n,4)})),r.a.createElement("div",{className:"calendar__body"},e,r.a.createElement(Qt,{className:"calendar__row--deco-last-row"},r.a.createElement($t,{className:"calendar__cell--time-col"},"00:00"),r.a.createElement(en,null))))}}]),a}(n.Component),Kt=function(e){var a=e.appointment,t="00:00"===a.time_start&&"00:00"===a.time_end?"Todo el d\xeda":"".concat(a.time_start," - ").concat(a.time_end);return r.a.createElement("div",Object.assign({},e,{className:"calendar__appointment ".concat("Not working"===a.name?"weekend":"")}),r.a.createElement("div",{className:"calendar__appointment__time"},t),r.a.createElement("div",{className:"calendar__appointment__name"},a.name))},Qt=function(e){return r.a.createElement("div",Object.assign({},e,{className:"calendar__row ".concat(e.className)}))},Jt=function(e){return r.a.createElement("div",Object.assign({},e,{className:"calendar__cell ".concat(e.className)}))},Zt=function(e){var a=e.day,t=a&&a.toDateString()===(new Date).toDateString();return r.a.createElement(Jt,Object.assign({},e,{className:"calendar__cell--day-of-week  ".concat(e.className," ").concat({"calendar__cell--day-of-week--today":t})}),a&&r.a.createElement("div",{className:"calendar__cell--day-of-week__day"},Ht[a.getDay()]),a&&r.a.createElement("div",{className:"calendar__cell--day-of-week__date"},a.getDate()))},$t=function(e){return r.a.createElement(Jt,Object.assign({},e,{className:"calendar__cell--time ".concat(e.className)}))},en=function(e){var a=e.appointment,t=null;if(a){var n=a.blockSpan,l="calc("+(100*n+"%")+" + "+(n+1+"px")+")";t=r.a.createElement(Kt,{style:{height:l},appointment:a})}return r.a.createElement(Jt,Object.assign({},e,{className:"calendar__cell--appointment ".concat(e.className)}),t)},an=Object(w.b)(function(e){return{auth:e.auth,general:e.general,calendar:e.appointments}},{appointmentAdd:Ut})(Vt);function tn(e){return r.a.createElement(M.a,{component:"div",style:{padding:24}},e.children)}var nn=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e,a){t.setState({value:a})},t.componentDidMount=function(){t.props.getDoctorAppointments(t.props.auth.user.id),t.props.getStats(t.props.auth.user.id)},t.state={value:0},t.handleChange=t.handleChange.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.appointments,n=e.stats,l=this.state.value,c=null,o=null;return c=b(ca()(t))?null:t,o=b(ca()(n))?null:n,r.a.createElement("div",null,r.a.createElement("div",{className:a.root},r.a.createElement(F.a,{position:"static",color:"default"},r.a.createElement(ta.a,{value:l,onChange:this.handleChange,centered:!0},r.a.createElement(ra.a,{label:"Stats"}),r.a.createElement(ra.a,{label:"Patients"}),r.a.createElement(ra.a,{label:"Upcoming visits"}))),0===l&&r.a.createElement(tn,null,o?r.a.createElement(zt,{stats:o}):r.a.createElement(It,null)),1===l&&r.a.createElement(tn,null,r.a.createElement(_t,null)),2===l&&r.a.createElement(tn,null,c?r.a.createElement(an,{appointments:c}):r.a.createElement(It,null),"}")))}}]),a}(n.Component),rn=Object(w.b)(function(e){return{auth:e.auth,appointments:e.appointments,general:e.general,stats:e.stats}},{getDoctorAppointments:function(e){return function(a){k.a.get("/api/doctors/appointments/".concat(e)).then(function(e){a({type:"GET_APPOINTMENTS",data:e.data})}).catch(function(e){return console.log(e)})}},getStats:function(e){return function(a){k.a.get("/api/doctors/stats/".concat(e)).then(function(e){a({type:"GET_STATS",data:e.data})}).catch(function(e){return console.log(e)})}}})(Object(D.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})(nn)),ln=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ea,{userRole:"Doctor"}),r.a.createElement(rn,null))}}]),a}(n.Component),cn=Object(ie.a)(ln),on=t(201),sn=t.n(on),mn=t(202),dn=t.n(mn),un=t(203),hn=t.n(un),pn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleAdd=function(){t.props.merge(t.props.doctor,t.props.auth.user),t.props.clearFinded(),t.props.close(),window.location.reload()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.doctor;return r.a.createElement("div",null,r.a.createElement(Z.a,{className:a.root,elevation:3},r.a.createElement("div",{className:"flex searchCard"},r.a.createElement(Te.a,{className:a.purpleAvatar},qe(t.firstName,t.lastName)),r.a.createElement(M.a,{variant:"h5",component:"h3"},"Dr. ".concat(t.firstName," ").concat(t.lastName)),r.a.createElement(R.a,{color:"secondary",variant:"contained",onClick:this.handleAdd},"Add"))))}}]),a}(n.Component),gn=Object(w.b)(function(e){return{auth:e.auth,general:e.general}},{merge:function(e,a){return function(t){k.a.post("/api/patients/merge",{doctor:e,patient:a}).then(function(e){return console.log(e.data)}).catch(function(e){return console.log(e)})}},clearFinded:Xe})(Object(D.withStyles)(function(e){return{root:Object(f.a)({},e.mixins.gutters(),{width:"80%",margin:"auto",paddingTop:1.5*e.spacing.unit,paddingBottom:1.5*e.spacing.unit}),purpleAvatar:{margin:10,color:"#fff",backgroundColor:wa.a[500]}}})(pn)),En=t(195),fn=t.n(En),bn=t(196),yn=t.n(bn),vn=t(198),Cn=t.n(vn),On=t(197),Nn=t.n(On),jn=t(199),Sn=t.n(jn),wn=t(200),Pn=t.n(wn),kn=t(124),xn=t.n(kn),Tn=t(125),An=t.n(Tn),Dn=t(126),Bn=t.n(Dn),Mn=t(123),In=t.n(Mn),Rn=t(127),_n=t.n(Rn),Wn=t(192),Fn=t.n(Wn),Ln=t(194),zn=t.n(Ln),Gn=t(193),Un=t.n(Gn),Hn=Object(D.withStyles)(function(e){return{head:{backgroundColor:"#1e4de973",color:e.palette.common.white,fontSize:18},body:{fontSize:20}}})(Ka.a),Yn=0;function qn(e,a,t){return{id:Yn+=1,day:e,from:a,to:t}}var Xn=Object(D.withStyles)(function(e){return{root:{width:"100%",overflowX:"auto"},table:{minWidth:700}}})(function(e){var a=e.classes,t=e.timeTable,n=[qn("Monday",t.monday.fromMonday,t.monday.toMonday),qn("Tuesday",t.tuesday.fromTuesday,t.tuesday.toTuesday),qn("Wednesday",t.wednesday.fromWednesday,t.wednesday.toWednesday),qn("Thursday",t.thursday.fromThursday,t.thursday.toThursday),qn("Friday",t.friday.fromFriday,t.friday.toFriday)];return r.a.createElement(Z.a,{className:a.root},r.a.createElement(Ya.a,{className:a.table},r.a.createElement(dt.a,null,r.a.createElement(at.a,null,r.a.createElement(Hn,null,"Day of week"),r.a.createElement(Hn,{align:"right"},"Start of working day"),r.a.createElement(Hn,{align:"right"},"End of working day"))),r.a.createElement(Xa.a,null,n.map(function(e){return r.a.createElement(at.a,{key:e.id},r.a.createElement(Hn,{component:"th",scope:"row"},e.day),r.a.createElement(Hn,{align:"right"},e.from),r.a.createElement(Hn,{align:"right"},e.to))}))))}),Vn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){t.props.onChangePage(e,0)},t.handleBackButtonClick=function(e){t.props.onChangePage(e,t.props.page-1)},t.handleNextButtonClick=function(e){t.props.onChangePage(e,t.props.page+1)},t.handleLastPageButtonClick=function(e){t.props.onChangePage(e,Math.max(0,Math.ceil(t.props.count/t.props.rowsPerPage)-1))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.count,n=e.page,l=e.rowsPerPage,c=e.theme;return r.a.createElement("div",{className:a.root},r.a.createElement(U.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===c.direction?r.a.createElement(st.a,null):r.a.createElement(nt.a,null)),r.a.createElement(U.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===c.direction?r.a.createElement(ot.a,null):r.a.createElement(lt.a,null)),r.a.createElement(U.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(t/l)-1,"aria-label":"Next Page"},"rtl"===c.direction?r.a.createElement(lt.a,null):r.a.createElement(ot.a,null)),r.a.createElement(U.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(t/l)-1,"aria-label":"Last Page"},"rtl"===c.direction?r.a.createElement(nt.a,null):r.a.createElement(st.a,null)))}}]),a}(n.Component),Kn=Object(D.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(Vn),Qn=0,Jn=[];var Zn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={page:0,rowsPerPage:5},t.componentWillUnmount=function(){Jn=[]},t.handleChangePage=function(e,a){t.setState({page:a})},t.handleChangeRowsPerPage=function(e){t.setState({rowsPerPage:e.target.value})},t.componentDidMount=function(){t.props.getPatientsRecepies(t.props.auth.user.id)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a,t,n,l=this.props.classes,c=this.state,o=c.rowsPerPage,i=c.page,s=o-Math.min(o,Jn.length-i*o),m=this.props.general.patientRecepie;if(null==m);else if(0===Jn.length)for(var d=0;d<m.length;d++)m[d].doctor==="".concat(this.props.user.firstName," ").concat(this.props.user.lastName)&&Jn.unshift((e=m[d].doctor,a=m[d].meds,t=m[d].order,n=m[d].date,{id:Qn+=1,doctor:e,meds:a,order:t,date:n}));return r.a.createElement(Z.a,{className:l.root},r.a.createElement("div",{className:l.tableWrapper},r.a.createElement(Ya.a,{className:l.table},r.a.createElement(dt.a,null,r.a.createElement(at.a,null,r.a.createElement(Ka.a,null,"Doctor"),r.a.createElement(Ka.a,null,"What medicines to use"),r.a.createElement(Ka.a,null,"In what order"),r.a.createElement(Ka.a,null,"Date"))),r.a.createElement(Xa.a,null,Jn.slice(i*o,i*o+o).map(function(e){return r.a.createElement(at.a,{key:e.id},r.a.createElement(Ka.a,{style:{fontSize:"1.2em"},component:"th",scope:"row"},e.doctor),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.meds),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.order),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.date))}),s>0&&r.a.createElement(at.a,{style:{height:48*s}},r.a.createElement(Ka.a,{colSpan:6}))),r.a.createElement(Ja.a,null,r.a.createElement(at.a,null,r.a.createElement($a.a,{rowsPerPageOptions:[5,10,25],colSpan:3,count:Jn.length,rowsPerPage:o,page:i,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Kn}))))))}}]),a}(n.Component),$n=Object(w.b)(function(e){return{auth:e.auth,general:e.general}},{getPatientsRecepies:Ke})(Object(D.withStyles)(function(e){return{root:{width:"100%"},table:{minWidth:500},tableWrapper:{overflowX:"auto"},inputAdjustment:{width:"100%",margin:"1em"},btnAdd:{width:"20%",marginRight:"2em"}}})(Zn)),er=t(57),ar=t.n(er);function tr(e){var a=e.match(/\d+/g)[0],t=e.match(/\d+/g)[1];return parseInt(t)+15===60?1===(++a).toString().length?"0".concat(a,":00"):"".concat(a,":00"):"".concat(a,":").concat(parseInt(t)+15)}var nr=function(e){for(var a=e.getDate()-e.getDay()+(0===e.getDay()?-6:1),t=[],n=0;n<5;n++)t.push(new Date(e.setDate(a+n)));return t}(new Date),rr=null,lr=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleCloseSnackBar=function(e,a){"clickaway"!==a&&t.setState({openSnackBar:!1})},t.formatWeekDay=function(e,a){return"".concat(e," (").concat(a.getDate(),".").concat(a.getMonth()+1,".").concat(a.getFullYear(),")")},t.onSelectDay=function(e){t.setState({day:e.target.value,allowed:!0}),rr=function(e,a,t){var n;t=(n=t).charAt(0).toUpperCase()+n.slice(1);var r=["07:00","07:15","07:30","07:45","08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00"],l=!0,c=!1,o=void 0;try{for(var i,s=a[Symbol.iterator]();!(l=(i=s.next()).done);l=!0){var m=i.value;r.splice(r.indexOf(m.time_start),1)}}catch(d){c=!0,o=d}finally{try{l||null==s.return||s.return()}finally{if(c)throw o}}return r.splice(0,r.indexOf(e["from".concat(t)])),r.splice(r.indexOf(e["to".concat(t)]),r.length-r.indexOf(e["to".concat(t)])),r}(t.props.user.settings.schedule[e.target.value.toLowerCase()],t.props.user.appointments[e.target.value.toLowerCase()],e.target.value.toLowerCase())},t.onHourSet=function(e){t.setState({time_start:e.target.value,time_end:tr(e.target.value),allowedButton:!0})},t.onCancel=function(e){t.setState({day:"",time_start:"",time_end:"",name:"".concat(t.props.auth.user.firstName," ").concat(t.props.auth.user.lastName),allowed:!1,allowedButton:!1})},t.registerMeet=function(e){var a={name:t.state.name,time_start:t.state.time_start,time_end:t.state.time_end};t.props.appointmentAdd(a,t.state.day.toLowerCase(),t.props.user._id,t.props.auth.user.id),t.setState({openSnackBar:!0})},t.componentWillUnmount=function(){t.props.getPatientAppointments(t.props.auth.user.id)},t.state={day:"",time_start:"",time_end:"",name:"".concat(t.props.auth.user.firstName," ").concat(t.props.auth.user.lastName),allowed:!1,allowedButton:!1,openSnackBar:!1},t.handleCloseSnackBar=t.handleCloseSnackBar.bind(Object(Q.a)(Object(Q.a)(t))),t.formatWeekDay=t.formatWeekDay.bind(Object(Q.a)(Object(Q.a)(t))),t.onSelectDay=t.onSelectDay.bind(Object(Q.a)(Object(Q.a)(t))),t.onHourSet=t.onHourSet.bind(Object(Q.a)(Object(Q.a)(t))),t.onCancel=t.onCancel.bind(Object(Q.a)(Object(Q.a)(t))),t.registerMeet=t.registerMeet.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(M.a,{variant:"subtitle1",align:"center",gutterBottom:!0},"Here you can set up meeting with your doctor. Just select day, available time, and come that day"),r.a.createElement("div",{className:"".concat(e.container," flex")},r.a.createElement(re.a,null,r.a.createElement(te.a,null,"Select day"),r.a.createElement(ar.a,{value:this.state.day,name:"weekdays",autoWidth:!0,onChange:this.onSelectDay,variant:"outlined",className:e.marginBottom},r.a.createElement(we.a,{value:"Monday"},this.formatWeekDay("Monday",nr[0])),r.a.createElement(we.a,{value:"Tuesday"},this.formatWeekDay("Tuesday",nr[1])),r.a.createElement(we.a,{value:"Wednesday"},this.formatWeekDay("Wednesday",nr[2])),r.a.createElement(we.a,{value:"Thursday"},this.formatWeekDay("Thursday",nr[3])),r.a.createElement(we.a,{value:"Friday"},this.formatWeekDay("Friday",nr[4])))),r.a.createElement(re.a,{disabled:!this.state.allowed},r.a.createElement(te.a,null,"Select comfort available time"),r.a.createElement(ar.a,{value:this.state.time_start,name:"hours",onChange:this.onHourSet,variant:"outlined",className:e.marginBottom},rr?rr.map(function(e){return r.a.createElement(we.a,{value:e,key:e+"dora"},e)}):r.a.createElement(we.a,{value:"olol"},"govno"))),r.a.createElement("div",{className:"".concat(e.bottomButtons," flex")},r.a.createElement(R.a,{variant:"outlined",color:"secondary",className:e.cancelButton,onClick:this.onCancel},"Cancel"),r.a.createElement(R.a,{variant:"contained",color:"secondary",className:e.submitButton,disabled:!this.state.allowedButton,onClick:this.registerMeet},"Register Meeting"))),r.a.createElement(He.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.openSnackBar,autoHideDuration:4e3,onClose:this.handleCloseSnackBar,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"Your visit registered!"),action:[r.a.createElement(U.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:this.handleCloseSnackBar},r.a.createElement(Oa.a,null))]}))}}]),a}(n.Component),cr=Object(w.b)(function(e){return{auth:e.auth,general:e.general}},{appointmentAdd:Ut,getPatientAppointments:Gt})(Object(D.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},container:{flexDirection:"column",width:"50vw",margin:"1em auto"},marginBottom:{marginBottom:"5vh"},bottomButtons:{width:"100%"},cancelButton:{marginRigth:"0.5em",width:"100%"},submitButton:{marginLeft:"0.5em",width:"100%"},close:{padding:e.spacing.unit/2}}})(lr));function or(e){return r.a.createElement(M.a,{component:"div",style:{padding:24}},e.children)}var ir=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e,a){t.setState({value:a})},t.state={value:0},t.renderSwitch=t.renderSwitch.bind(Object(Q.a)(Object(Q.a)(t))),t.generalInfo=t.generalInfo.bind(Object(Q.a)(Object(Q.a)(t))),t.handleChange=t.handleChange.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"renderSwitch",value:function(e){switch(e){case"0-3":return"Up to 3 years of med practice";case"3-5":return"5 years of med practice";case"5-10":return"Almost 10 years of med practice";case"10-15":return"15 years of med practice";case"15+":return"More than 15 years of med practice";default:return"N/A"}}},{key:"generalInfo",value:function(e,a){return r.a.createElement("div",{className:"profileGrid"},r.a.createElement("div",{className:"flex flex-center universityInfo"},r.a.createElement(Un.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},e.university?"Studied at ".concat(e.university.univName,",in ").concat(e.university.univCity," city, for ").concat(e.university.univSpecialty,", years of study ").concat(e.university.yearOfEntry," - ").concat(e.university.yearOfOut):"N/A")),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(In.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.specialty||"N/A"))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(xn.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.clinicName||"N/A"))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(An.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},e.address?"".concat(e.address.city,", ").concat(e.address.street," ").concat(e.address.number):"N/A")),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Ea.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.workPhone||"N/A"))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(pa.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.birthday||"N/A"))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(xa.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.sex||"N/A"))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Bn.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.yearsOfPractice||"N/A"))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(_n.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"Cabinet #".concat(e.cabinet||"N/A"))),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(zn.a,{color:"primary",fontSize:"large"}),r.a.createElement(M.a,{className:a.infoItems,variant:"subtitle1"},"".concat(e.achievments||"N/A"))))}},{key:"render",value:function(){var e=this.props,a=e.classes,t=e.user,n=this.state.value,l=t.settings;return r.a.createElement("div",null,r.a.createElement("div",{className:a.root},r.a.createElement(F.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(ta.a,{value:n,onChange:this.handleChange,centered:!0,variant:"fullWidth"},r.a.createElement(ra.a,{label:"General"}),r.a.createElement(ra.a,{label:"Schedule"}),r.a.createElement(ra.a,{label:"Meet"}),r.a.createElement(ra.a,{label:"Recepies"}))),0===n&&r.a.createElement(or,null,this.generalInfo(l,a)),1===n&&r.a.createElement(or,null,t.settings.schedule?r.a.createElement(Xn,{timeTable:t.settings.schedule}):r.a.createElement(M.a,{variant:"h4",align:"center"},"Sorry, schedule not available. Our doctor forget to set it(")),2===n&&r.a.createElement(or,null,r.a.createElement(cr,{user:t})),3===n&&r.a.createElement(or,null,r.a.createElement($n,{user:t}))))}}]),a}(n.Component),sr=Object(D.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},infoItems:{marginLeft:".5em",fontSize:"1.3em"}}})(ir),mr=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.setRate=function(){Qe(e.state.rating,e.props.user._id),e.handleClose()},e.getRating=function(e){switch(e){case 1:return"Very unsatisfied";case 2:return"Unsatisfied";case 3:return"Neutral";case 4:return"Satisfied";case 5:return"Very satisfied";default:return""}},e.state={rating:0,open:!1},e.handleClose=e.handleClose.bind(Object(Q.a)(Object(Q.a)(e))),e.handleClickOpen=e.handleClickOpen.bind(Object(Q.a)(Object(Q.a)(e))),e.getRating=e.getRating.bind(Object(Q.a)(Object(Q.a)(e))),e.setRate=e.setRate.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"onStarClick",value:function(e,a,t){this.setState({rating:e})}},{key:"render",value:function(){var e=this.props,a=e.classes,t=e.user,n=qe(t.firstName,t.lastName).join("");return r.a.createElement("div",null,r.a.createElement(Z.a,{className:a.root,elevation:1},r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Te.a,{style:{backgroundColor:"".concat(Pa[t.color].bgc)},className:"".concat(a.avatar)},n),r.a.createElement(M.a,{variant:"h3"},"Dr. ".concat(t.firstName," ").concat(t.lastName)),r.a.createElement(R.a,{className:a.showBtn,variant:"outlined",color:"primary",onClick:this.handleClickOpen},"Rate this doctor"))),r.a.createElement("div",null,r.a.createElement(De.a,{className:a.dialog,open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Le.a,{id:"alert-dialog-title"},"Rate this doctor from 1 to 5"),r.a.createElement(Re.a,null,r.a.createElement(M.a,null,"Let us know what you think about this person, it will help us improve qualitty of our work"),r.a.createElement("div",{className:a.star},r.a.createElement(Fn.a,{name:"rate1",className:a.rating,starCount:5,value:this.state.rating,onStarClick:this.onStarClick.bind(this)})),r.a.createElement(M.a,{variant:"body1"},this.getRating(this.state.rating))),r.a.createElement(Me.a,null,r.a.createElement(R.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(R.a,{onClick:this.setRate,color:"primary",autoFocus:!0},"Rate")))),r.a.createElement(Z.a,{className:a.secondPaper,elevation:2},r.a.createElement(sr,{user:t})))}}]),a}(n.Component),dr=Object(D.withStyles)(function(e){return{root:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:"80%",margin:"auto"},avatar:{marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit,width:150,fontSize:"50px",height:150},secondPaper:{width:"80%",margin:"1em auto"},showBtn:{marginLeft:"auto",marginRight:"1em"},star:{display:"flex",justifyContent:"center"},rating:{marginTop:"1em",transform:"scale(2.5)"}}})(mr),ur=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).closeProfile=function(){t.setState({profileOpen:!1})},t.unsubscribe=function(){Je(t.props.parent,t.props.user._id),window.location.reload()},t.state={profileOpen:!1,openConfirmUnsubscribe:!1},t.closeProfile=t.closeProfile.bind(Object(Q.a)(Object(Q.a)(t))),t.Transition=t.Transition.bind(Object(Q.a)(Object(Q.a)(t))),t.calculateAge=t.calculateAge.bind(Object(Q.a)(Object(Q.a)(t))),t.unsubscribe=t.unsubscribe.bind(Object(Q.a)(Object(Q.a)(t))),t.renderSwitch=t.renderSwitch.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"Transition",value:function(e){return r.a.createElement(ja.a,Object.assign({direction:"up"},e))}},{key:"calculateAge",value:function(e){var a=Date.now()-e.getTime(),t=new Date(a);return Math.abs(t.getUTCFullYear()-1970)}},{key:"renderSwitch",value:function(e){switch(e){case"0-3":return"Up to 3 years of med practice";case"3-5":return"5 years of med practice";case"5-10":return"Almost 10 years of med practice";case"10-15":return"15 years of med practice";case"15+":return"More than 15 years of med practice";default:return"N/A"}}},{key:"render",value:function(){var e,a,t,n=this,l=this.props,c=l.classes,o=l.user;o.settings||(o.settings={birthday:"N/A",address:{city:"N/A",street:"N/A",number:"N/A"},phone:"N/A",work:"N/A",clinicName:"N/A",cabinet:"N/A",workPhone:"N/A",specialty:"N/A",yearsOfPractice:"N/A"});var i=qe(o.firstName,o.lastName).join("");return o.settings.birthday?(a=o.settings.birthday.split("-"),t=Object(oa.a)(Date,Object(ia.a)(a)),e="".concat(t.getDate(),".").concat(t.getMonth()+1,".").concat(t.getFullYear()," (").concat(this.calculateAge(t)," years)")):e="N/A",r.a.createElement("div",null,r.a.createElement(fn.a,{className:c.card},r.a.createElement(yn.a,null,r.a.createElement(Nn.a,{className:"".concat(c.media," ").concat(o.color),src:"none"}),r.a.createElement(Cn.a,null,r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(Te.a,{sizes:"large",style:{backgroundColor:"".concat(Pa[o.color].bgc)},className:"".concat(c.bigAvatar)},i),r.a.createElement(M.a,{variant:"h5",component:"h2"},"Dr. ".concat(o.firstName," ").concat(o.lastName))),r.a.createElement("div",{className:"flex flex-center creditsPos"},r.a.createElement(xn.a,null),r.a.createElement(M.a,{component:"p",variant:"body2",className:c.typoMargin},"".concat(o.settings.clinicName||"N/A"))),r.a.createElement("div",{className:"flex flex-center creditsPos"},r.a.createElement(An.a,null),r.a.createElement(M.a,{component:"p",variant:"body2",className:c.typoMargin},o.settings?"".concat(o.settings.address.city||"N/A",", ").concat(o.settings.address.street||"N/A"," ").concat(o.settings.address.number||"N/A"):"N/A")),r.a.createElement("div",{className:"flex flex-center creditsPos"},r.a.createElement(_n.a,null),r.a.createElement(M.a,{component:"p",variant:"body2",className:c.typoMargin},o.settings.cabinet?"Cabinet #".concat(o.settings.cabinet):"N/A")),r.a.createElement("div",{className:"flex flex-center creditsPos"},r.a.createElement(Sn.a,null),r.a.createElement(M.a,{component:"p",variant:"body2",className:c.typoMargin},e)),r.a.createElement("div",{className:"flex flex-center creditsPos"},r.a.createElement(Ea.a,null),r.a.createElement(M.a,{component:"p",variant:"body2",className:c.typoMargin},o.settings.workPhone||"N/A")),r.a.createElement("div",{className:"flex flex-center creditsPos"},r.a.createElement(In.a,null),r.a.createElement(M.a,{component:"p",variant:"body2",className:c.typoMargin},"".concat(o.settings.specialty||"N/A"))),r.a.createElement("div",{className:"flex flex-center creditsPos"},r.a.createElement(Bn.a,null),r.a.createElement(M.a,{component:"p",variant:"body2",className:c.typoMargin},this.renderSwitch(o.settings.yearsOfPractice))))),r.a.createElement(Pn.a,null,r.a.createElement(R.a,{onClick:function(){return n.setState({openConfirmUnsubscribe:!0})}},"Unsubscribe"),r.a.createElement(R.a,{onClick:function(){n.setState({profileOpen:!0})}},"Show profile"))),r.a.createElement(De.a,{fullScreen:!0,open:this.state.profileOpen,onClose:this.closeProfile,TransitionComponent:this.Transition},r.a.createElement(F.a,{className:c.appBar},r.a.createElement(z.a,null,r.a.createElement(U.a,{color:"inherit",onClick:this.closeProfile,"aria-label":"Close"},r.a.createElement(Oa.a,null)),r.a.createElement(M.a,{variant:"h6",color:"inherit",className:c.flex},"".concat(this.props.user.firstName," ").concat(this.props.user.lastName)))),r.a.createElement(dr,{user:this.props.user})),r.a.createElement(De.a,{open:this.state.openConfirmUnsubscribe,onClose:function(){return n.setState({openConfirmUnsubscribe:!1})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Le.a,{id:"alert-dialog-title"},"Unregister"),r.a.createElement(Re.a,null,r.a.createElement(We.a,{id:"alert-dialog-description"},"Do you really want to unsubscribe from this doctor?")),r.a.createElement(Me.a,null,r.a.createElement(R.a,{onClick:function(){return n.setState({openConfirmUnsubscribe:!1})},color:"secondary"},"Cancel"),r.a.createElement(R.a,{variant:"contained",onClick:this.unsubscribe,color:"secondary",autoFocus:!0},"Yes, Unsubscribe"))))}}]),a}(n.Component),hr=Object(D.withStyles)({card:{width:"23vw"},media:{height:100},bigAvatar:{width:60,height:60,margin:"0 10px 10px 0"},typoMargin:{marginBottom:"-6px",marginLeft:"1em"},appBar:{position:"relative"}})(ur),pr=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).dialogOpen=function(){t.setState({dialogOpen:!0})},t.dialogClose=function(){t.props.clearFinded(),t.setState({dialogOpen:!1,token:""})},t.handleFab=function(){t.dialogOpen()},t.handleToken=function(){t.props.findToken(t.state.token)},t.onChangeDialog=function(e){t.setState({token:e.target.value})},t.state={dialogOpen:!1,token:""},t.dialogOpen=t.dialogOpen.bind(Object(Q.a)(Object(Q.a)(t))),t.dialogClose=t.dialogClose.bind(Object(Q.a)(Object(Q.a)(t))),t.handleFab=t.handleFab.bind(Object(Q.a)(Object(Q.a)(t))),t.handleToken=t.handleToken.bind(Object(Q.a)(Object(Q.a)(t))),t.onChangeDialog=t.onChangeDialog.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getDoctorsList(this.props.auth.user.id)}},{key:"render",value:function(){var e=this,a=null,t=this.props.general,n=t.doctorData,l=t.findedDoctor,c=this.props.classes;return a=null==n?r.a.createElement("div",{className:"centerize"},r.a.createElement(It,null)):n.map(function(a,t){return r.a.createElement(hr,{parent:e.props.auth.user.id,key:t,user:a})}),r.a.createElement("div",{className:"doctorsTab"},r.a.createElement("div",{className:"gridCardProdile"},a),r.a.createElement("div",null,r.a.createElement(sn.a,{color:"secondary","aria-label":"Add",className:c.fab,onClick:this.handleFab},r.a.createElement(dn.a,null))),r.a.createElement(De.a,{open:this.state.dialogOpen,onClose:this.dialogClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Le.a,{id:"form-dialog-title"},"Add your doctor"),r.a.createElement(Re.a,null,r.a.createElement(We.a,null,"To find your doctor, and then add to the available list, please insert token, that you received in e-mail letter from doctor."),r.a.createElement("div",{className:"flex"},r.a.createElement(Ge.a,{autoFocus:!0,margin:"dense",id:"token",label:"Token",type:"text",onChange:this.onChangeDialog,fullWidth:!0}),r.a.createElement(U.a,{onClick:this.handleToken,color:"primary"},r.a.createElement(hn.a,null)))),l?r.a.createElement(gn,{close:function(){e.dialogClose()},doctor:l}):"",r.a.createElement(Me.a,null,r.a.createElement(R.a,{onClick:function(){e.dialogClose()},color:"primary"},"Cancel"))))}}]),a}(n.Component),gr=Object(w.b)(function(e){return{general:e.general,auth:e.auth}},{findToken:function(e){return function(a){k.a.post("/api/patients/adddoctor",{token:e}).then(function(e){a({type:"FIND_TOKEN",data:e.data})}).catch(function(e){return console.log(e)})}},getDoctorsList:function(e){return function(a){a({type:"DOCTORS_LOADING"}),k.a.get("/api/patients/".concat(e)).then(function(e){a({type:"GET_DOCTORS_LIST",data:e.data})}).catch(function(e){return console.log(e)})}},clearFinded:Xe})(Object(D.withStyles)(function(e){return{fab:{position:"fixed",bottom:2*e.spacing.unit,right:2*e.spacing.unit},extendedIcon:{marginRight:e.spacing.unit}}})(pr)),Er=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){t.props.onChangePage(e,0)},t.handleBackButtonClick=function(e){t.props.onChangePage(e,t.props.page-1)},t.handleNextButtonClick=function(e){t.props.onChangePage(e,t.props.page+1)},t.handleLastPageButtonClick=function(e){t.props.onChangePage(e,Math.max(0,Math.ceil(t.props.count/t.props.rowsPerPage)-1))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.count,n=e.page,l=e.rowsPerPage,c=e.theme;return r.a.createElement("div",{className:a.root},r.a.createElement(U.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===c.direction?r.a.createElement(st.a,null):r.a.createElement(nt.a,null)),r.a.createElement(U.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===c.direction?r.a.createElement(ot.a,null):r.a.createElement(lt.a,null)),r.a.createElement(U.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(t/l)-1,"aria-label":"Next Page"},"rtl"===c.direction?r.a.createElement(lt.a,null):r.a.createElement(ot.a,null)),r.a.createElement(U.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(t/l)-1,"aria-label":"Last Page"},"rtl"===c.direction?r.a.createElement(nt.a,null):r.a.createElement(st.a,null)))}}]),a}(r.a.Component),fr=Object(D.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(Er),br=0,yr=[];var vr=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).componentDidMount=function(){t.props.getPatientsRecords(t.props.auth.user.id)},t.handleChangePage=function(e,a){t.setState({page:a})},t.handleChangeRowsPerPage=function(e){t.setState({rowsPerPage:e.target.value})},t.state={page:0,rowsPerPage:5},t.handleChangePage=t.handleChangePage.bind(Object(Q.a)(Object(Q.a)(t))),t.handleChangeRowsPerPage=t.handleChangeRowsPerPage.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a,t,n=this.props.classes,l=this.state,c=l.rowsPerPage,o=l.page,i=this.props.general.patientRecords;if(null==i);else if(0===yr.length)for(var s=0;s<i.length;s++)yr.unshift((e=i[s].doctor,a=i[s].diaryRecord,t=i[s].date,{id:br+=1,doctor:e,record:a,date:t}));var m=c-Math.min(c,yr.length-o*c);return r.a.createElement(Z.a,{className:n.root},r.a.createElement("div",{className:n.tableWrapper},r.a.createElement(Ya.a,{className:n.table},r.a.createElement(dt.a,null,r.a.createElement(at.a,null,r.a.createElement(Ka.a,null,"Doctor"),r.a.createElement(Ka.a,null,"Diary records"),r.a.createElement(Ka.a,null,"Date"))),r.a.createElement(Xa.a,null,yr.slice(o*c,o*c+c).map(function(e){return r.a.createElement(at.a,{key:e.id},r.a.createElement(Ka.a,{style:{fontSize:"1.2em"},component:"th",scope:"row"},e.doctor),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.record),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.date))}),m>0&&r.a.createElement(at.a,{style:{height:48*m}},r.a.createElement(Ka.a,{colSpan:6}))),r.a.createElement(Ja.a,null,r.a.createElement(at.a,null,r.a.createElement($a.a,{rowsPerPageOptions:[5,10,25],colSpan:3,count:yr.length,rowsPerPage:c,page:o,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:fr}))))))}}]),a}(r.a.Component),Cr=Object(w.b)(function(e){return{auth:e.auth,general:e.general}},{getPatientsRecords:Ve})(Object(D.withStyles)(function(e){return{root:{width:"100%"},table:{minWidth:500},tableWrapper:{overflowX:"auto"},inputAdjustment:{width:"100%",margin:"1em"},btnAdd:{width:"20%",marginRight:"2em"}}})(vr)),Or=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){t.props.onChangePage(e,0)},t.handleBackButtonClick=function(e){t.props.onChangePage(e,t.props.page-1)},t.handleNextButtonClick=function(e){t.props.onChangePage(e,t.props.page+1)},t.handleLastPageButtonClick=function(e){t.props.onChangePage(e,Math.max(0,Math.ceil(t.props.count/t.props.rowsPerPage)-1))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.count,n=e.page,l=e.rowsPerPage,c=e.theme;return r.a.createElement("div",{className:a.root},r.a.createElement(U.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===c.direction?r.a.createElement(st.a,null):r.a.createElement(nt.a,null)),r.a.createElement(U.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===c.direction?r.a.createElement(ot.a,null):r.a.createElement(lt.a,null)),r.a.createElement(U.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(t/l)-1,"aria-label":"Next Page"},"rtl"===c.direction?r.a.createElement(lt.a,null):r.a.createElement(ot.a,null)),r.a.createElement(U.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(t/l)-1,"aria-label":"Last Page"},"rtl"===c.direction?r.a.createElement(nt.a,null):r.a.createElement(st.a,null)))}}]),a}(r.a.Component),Nr=Object(D.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(Or),jr=0,Sr=[];var wr=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleChangePage=function(e,a){t.setState({page:a})},t.handleChangeRowsPerPage=function(e){t.setState({rowsPerPage:e.target.value})},t.componentDidMount=function(){t.props.getPatientsRecepies(t.props.auth.user.id)},t.state={page:0,rowsPerPage:5},t.handleChangePage=t.handleChangePage.bind(Object(Q.a)(Object(Q.a)(t))),t.handleChangeRowsPerPage=t.handleChangeRowsPerPage.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a,t,n,l=this.props.classes,c=this.state,o=c.rowsPerPage,i=c.page,s=o-Math.min(o,Sr.length-i*o),m=this.props.general.patientRecepie;if(null==m);else if(0===Sr.length)for(var d=0;d<m.length;d++)Sr.unshift((e=m[d].doctor,a=m[d].meds,t=m[d].order,n=m[d].date,{id:jr+=1,doctor:e,meds:a,order:t,date:n}));return r.a.createElement(Z.a,{className:l.root},r.a.createElement("div",{className:l.tableWrapper},r.a.createElement(Ya.a,{className:l.table},r.a.createElement(dt.a,null,r.a.createElement(at.a,null,r.a.createElement(Ka.a,null,"Doctor"),r.a.createElement(Ka.a,null,"What medicines to use"),r.a.createElement(Ka.a,null,"In what order"),r.a.createElement(Ka.a,null,"Date"))),r.a.createElement(Xa.a,null,Sr.slice(i*o,i*o+o).map(function(e){return r.a.createElement(at.a,{key:e.id},r.a.createElement(Ka.a,{style:{fontSize:"1.2em"},component:"th",scope:"row"},e.doctor),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.meds),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.order),r.a.createElement(Ka.a,{style:{fontSize:"1.2em"}},e.date))}),s>0&&r.a.createElement(at.a,{style:{height:48*s}},r.a.createElement(Ka.a,{colSpan:6}))),r.a.createElement(Ja.a,null,r.a.createElement(at.a,null,r.a.createElement($a.a,{rowsPerPageOptions:[5,10,25],colSpan:3,count:Sr.length,rowsPerPage:o,page:i,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Nr}))))))}}]),a}(r.a.Component),Pr=Object(w.b)(function(e){return{auth:e.auth,general:e.general}},{getPatientsRecepies:Ke})(Object(D.withStyles)(function(e){return{root:{width:"100%"},table:{minWidth:500},tableWrapper:{overflowX:"auto"},inputAdjustment:{width:"100%",margin:"1em"},btnAdd:{width:"20%",marginRight:"2em"}}})(wr));function kr(e){return r.a.createElement(M.a,{component:"div",style:{padding:24}},e.children)}var xr={monday:[],tuesday:[],wednesday:[],thursday:[],friday:[]},Tr=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e,a){t.setState({value:a})},t.componentDidMount=function(){t.props.getPatientAppointments(t.props.auth.user.id)},t.state={value:0},t.handleChange=t.handleChange.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.appointments,n=this.state.value,l=null;return l=b(ca()(t))?null:t,r.a.createElement("div",null,r.a.createElement("div",{className:a.root},r.a.createElement(F.a,{position:"static",color:"default"},r.a.createElement(ta.a,{value:n,onChange:this.handleChange,centered:!0},r.a.createElement(ra.a,{label:"Doctors"}),r.a.createElement(ra.a,{label:"E-card"}),r.a.createElement(ra.a,{label:"recepies"}),r.a.createElement(ra.a,{label:"planned visits"}))),0===n&&r.a.createElement(kr,null,r.a.createElement(gr,null)),1===n&&r.a.createElement(kr,null,r.a.createElement(Cr,null)),2===n&&r.a.createElement(kr,null,r.a.createElement(Pr,null)),3===n&&r.a.createElement(kr,null,l?r.a.createElement(an,{appointments:l}):r.a.createElement(an,{appointments:xr}))))}}]),a}(n.Component),Ar=Object(w.b)(function(e){return{auth:e.auth,appointments:e.appointments,general:e.general}},{getPatientAppointments:Gt})(Object(D.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})(Tr)),Dr=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ea,{userRole:"Patient"}),r.a.createElement(Ar,null))}}]),a}(n.Component),Br=t(128),Mr=t.n(Br),Ir=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleExpand=function(e){return function(a,n){t.setState({expanded:!!n&&e})}},t.handleCloseSnackBar=function(){t.setState({openSnackBar:!1})},t.onAddress=function(e){t.setState({address:Object.assign({},t.state.address,Object(K.a)({},e.target.name,e.target.value))})},t.onEmergency=function(e){t.setState({emergency:Object.assign({},t.state.emergency,Object(K.a)({},e.target.name,e.target.value))})},t.onChangeSettings=function(e){t.setState(Object(K.a)({},e.target.name,e.target.value))},t.onChangeBloodType=function(e){t.setState({blood:Object.assign({},t.state.blood,Object(K.a)({},e.target.name,e.target.value))})},t.componentDidMount=function(){t.props.getPatientSettings(t.props.auth.user.id)},t.onSave=function(e){t.setState({openSnackBar:!0,expanded:null}),t.props.updatePatientSettings(t.state,t.props.auth.user.id)},t.state={expanded:null,openSnackBar:!1,address:{street:"",city:"",number:""},birthday:"",sex:"",email:"",work:"",maritalStatus:"",emergency:{fName:"",lName:"",relation:"",phoneNumber:""},phone:"",allergies:"",medAllergies:"",injuries:"",operations:"",currMeds:"",height:"",weight:"",blood:{type:"",rhesus:""}},t.handleExpand=t.handleExpand.bind(Object(Q.a)(Object(Q.a)(t))),t.handleCloseSnackBar=t.handleCloseSnackBar.bind(Object(Q.a)(Object(Q.a)(t))),t.onAddress=t.onAddress.bind(Object(Q.a)(Object(Q.a)(t))),t.onEmergency=t.onEmergency.bind(Object(Q.a)(Object(Q.a)(t))),t.onChangeSettings=t.onChangeSettings.bind(Object(Q.a)(Object(Q.a)(t))),t.onChangeBloodType=t.onChangeBloodType.bind(Object(Q.a)(Object(Q.a)(t))),t.onSave=t.onSave.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.settings&&this.setState(Object.assign({},e.settings))}},{key:"render",value:function(){var e=this.props.classes,a=this.state.expanded;return r.a.createElement("div",{className:e.root},r.a.createElement(ea,{userRole:"Patient",back:!0,toLocation:"/patient/home"}),r.a.createElement(Z.a,{elevation:5,className:e.paperConfig},r.a.createElement(M.a,{variant:"h4",className:e.headerConfig},"General Settings"),r.a.createElement(Ia.a,{expanded:"panel1"===a,onChange:this.handleExpand("panel1")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Address"),r.a.createElement(M.a,{className:e.secondaryHeading},"Please input your address")),r.a.createElement(Fa.a,null,r.a.createElement("div",{className:e.spaceAround},r.a.createElement(Ge.a,{type:"text",onChange:this.onAddress,name:"city",value:this.state.address.city,variant:"outlined",label:"Your city",placeholder:"i.e. Kyiv, Kharkiv, Odessa"}),r.a.createElement(Ge.a,{type:"text",onChange:this.onAddress,name:"street",variant:"outlined",label:"Your street",value:this.state.address.street,placeholder:"i.e. Ivana Franka, Zelena"}),r.a.createElement(Ge.a,{type:"text",onChange:this.onAddress,name:"number",variant:"outlined",value:this.state.address.number,label:"Your house number",placeholder:"i.e. 46"})))),r.a.createElement(Ia.a,{expanded:"panel2"===a,onChange:this.handleExpand("panel2")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Date of Birth"),r.a.createElement(M.a,{className:e.secondaryHeading},"Please input your birthday, so we know your age")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"date",variant:"outlined",name:"birthday",value:this.state.birthday,onChange:this.onChangeSettings,className:e.dateField,label:""}))),r.a.createElement(Ia.a,{expanded:"panel3"===a,onChange:this.handleExpand("panel3")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Sex"),r.a.createElement(M.a,{className:e.secondaryHeading},"Set your sex")),r.a.createElement(Fa.a,null,r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(pe.a,{"aria-label":"Gender",name:"sex",value:this.state.sex,onChange:this.onChangeSettings},r.a.createElement(be.a,{value:"female",control:r.a.createElement(Ee.a,null),label:"Female"}),r.a.createElement(be.a,{value:"male",control:r.a.createElement(Ee.a,null),label:"Male"}))))),r.a.createElement(Ia.a,{expanded:"panel4"===a,onChange:this.handleExpand("panel4")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"E-mail"),r.a.createElement(M.a,{className:e.secondaryHeading},"Please input your e-mail, so we can send for you different data")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"email",fullWidth:!0,name:"email",value:this.state.email,onChange:this.onChangeSettings,variant:"outlined",label:"Your E-mail",placeholder:"example@example.com"}))),r.a.createElement(Ia.a,{expanded:"panel5"===a,onChange:this.handleExpand("panel5")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Marital Status"),r.a.createElement(M.a,{className:e.secondaryHeading},"Tell us about your maritial status")),r.a.createElement(Fa.a,null,r.a.createElement(ar.a,{value:this.state.maritalStatus,name:"maritalStatus",onChange:this.onChangeSettings,variant:"outlined",className:e.dateField},r.a.createElement(we.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(we.a,{value:"Single"},"Single"),r.a.createElement(we.a,{value:"Married"},"Married"),r.a.createElement(we.a,{value:"Divorced"},"Divorced"),r.a.createElement(we.a,{value:"Widowed"},"Widowed")))),r.a.createElement(Ia.a,{expanded:"panel6"===a,onChange:this.handleExpand("panel6")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Work"),r.a.createElement(M.a,{className:e.secondaryHeading},"If you want to give us additional data, you can input your job place")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"text",fullWidth:!0,name:"work",value:this.state.work,onChange:this.onChangeSettings,variant:"outlined",label:"Your Job",placeholder:"i.e main engineer in Mercedes-benz"}))),r.a.createElement(Ia.a,{expanded:"panel7"===a,onChange:this.handleExpand("panel7")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Phone Number"),r.a.createElement(M.a,{className:e.secondaryHeading},"Give us your phone number, so that doctor can contact with you")),r.a.createElement(Fa.a,null,r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(M.a,{variant:"h6"},"+38"),r.a.createElement(Ge.a,{type:"number",className:e.dateField,label:"Phone number",name:"phone",value:this.state.phone,InputProps:{inputProps:{max:10}},onChange:this.onChangeSettings,placeholder:"(XXX)-123-45-67",variant:"outlined"})))),r.a.createElement(Ia.a,{expanded:"panel8"===a,onChange:this.handleExpand("panel8")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Height (cm)"),r.a.createElement(M.a,{className:e.secondaryHeading},"Give us information about your height")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"number",className:e.dateField,placeholder:"Your height in cm",name:"height",value:this.state.height,onChange:this.onChangeSettings,variant:"outlined",inputProps:{min:"0",max:"300"}}))),r.a.createElement(Ia.a,{expanded:"panel9"===a,onChange:this.handleExpand("panel9")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Weight (kg)"),r.a.createElement(M.a,{className:e.secondaryHeading},"Give us information about your weight")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"number",className:e.dateField,placeholder:"Your weight in kg",variant:"outlined",value:this.state.weight,name:"weight",onChange:this.onChangeSettings,inputProps:{min:"0",max:"300"}}))),r.a.createElement(Ia.a,{expanded:"panel10"===a,onChange:this.handleExpand("panel10")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"In case of emergency"),r.a.createElement(M.a,{className:e.secondaryHeading},"Give us information about your trusted contact")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"text",name:"fName",value:this.state.emergency.fName,onChange:this.onEmergency,className:e.dateField,placeholder:"First name",variant:"outlined"}),r.a.createElement(Ge.a,{type:"text",name:"lName",value:this.state.emergency.lName,onChange:this.onEmergency,className:e.dateField,placeholder:"Last Name",variant:"outlined"}),r.a.createElement(Ge.a,{type:"text",name:"relation",value:this.state.emergency.relation,onChange:this.onEmergency,className:e.dateField,placeholder:"Relationship",variant:"outlined"}),r.a.createElement(Ge.a,{type:"number",name:"phoneNumber",value:this.state.emergency.phoneNumber,onChange:this.onEmergency,className:e.dateField,placeholder:"Phone number",variant:"outlined"}))),r.a.createElement(M.a,{variant:"h4",className:e.headerConfig},"Medical questions"),r.a.createElement(Ia.a,{expanded:"panel11"===a,onChange:this.handleExpand("panel11")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Blood type"),r.a.createElement(M.a,{className:e.secondaryHeading},"Let us know your blood type")),r.a.createElement(Fa.a,null,r.a.createElement(ar.a,{value:this.state.blood.type,name:"type",onChange:this.onChangeBloodType,className:e.dateField},r.a.createElement(we.a,{value:"0"},"0"),r.a.createElement(we.a,{value:"A"},"A"),r.a.createElement(we.a,{value:"B"},"B"),r.a.createElement(we.a,{value:"AB"},"AB")),r.a.createElement(ar.a,{value:this.state.blood.rhesus,name:"rhesus",onChange:this.onChangeBloodType,className:e.dateField},r.a.createElement(we.a,{value:"+"},"+"),r.a.createElement(we.a,{value:"-"},"-")))),r.a.createElement(Ia.a,{expanded:"panel12"===a,onChange:this.handleExpand("panel12")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Allergies"),r.a.createElement(M.a,{className:e.secondaryHeading},"What allergies do you have? (fruits, pets, plants, etc)")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"text",fullWidth:!0,value:this.state.allergies,name:"allergies",onChange:this.onChangeSettings,variant:"outlined",label:"Your allergies",placeholder:"i.e chocolate, dogs, lemons"}))),r.a.createElement(Ia.a,{expanded:"panel13"===a,onChange:this.handleExpand("panel13")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Medicine allergies"),r.a.createElement(M.a,{className:e.secondaryHeading},"Do you have some allergies on medicines?")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"text",fullWidth:!0,value:this.state.medAllergies,name:"medAllergies",onChange:this.onChangeSettings,variant:"outlined",label:"Your medicine allergies",placeholder:"i.e amoxicillin, ampicillin, penicillin"}))),r.a.createElement(Ia.a,{expanded:"panel14"===a,onChange:this.handleExpand("panel14")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Injuries"),r.a.createElement(M.a,{className:e.secondaryHeading},"Did you had some injuries in the past?")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"text",fullWidth:!0,value:this.state.injuries,name:"injuries",onChange:this.onChangeSettings,variant:"outlined",label:"Your injuries",placeholder:"i.e broke arm"}))),r.a.createElement(Ia.a,{expanded:"panel15"===a,onChange:this.handleExpand("panel15")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Operations"),r.a.createElement(M.a,{className:e.secondaryHeading},"Did you had some operations in the past?")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"text",fullWidth:!0,value:this.state.operations,name:"operations",onChange:this.onChangeSettings,variant:"outlined",label:"Your past operations",placeholder:"i.e plastic operations, appendix"}))),r.a.createElement(Ia.a,{expanded:"panel16"===a,onChange:this.handleExpand("panel16")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Currently meds"),r.a.createElement(M.a,{className:e.secondaryHeading},"Taking any medications, currently?")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"text",fullWidth:!0,name:"currMeds",value:this.state.currMeds,onChange:this.onChangeSettings,variant:"outlined",label:"Are you taking some medicines right now?",placeholder:"if no, leave blank"}))),r.a.createElement("div",{className:"flex flex-end"},r.a.createElement(R.a,{variant:"outlined",href:"/patient/home",color:"secondary",className:e.btn},"Cancel"),r.a.createElement(R.a,{variant:"contained",onClick:this.onSave,color:"secondary",className:e.btn},"Save"))),r.a.createElement(He.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.openSnackBar,autoHideDuration:4e3,onClose:this.handleCloseSnackBar,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"Saved"),action:[r.a.createElement(Mr.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:this.handleCloseSnackBar},r.a.createElement(Oa.a,null))]}))}}]),a}(r.a.Component),Rr=Object(w.b)(function(e){return{auth:e.auth,general:e.general,settings:e.settings}},{updatePatientSettings:function(e,a){return function(t){k.a.post("/api/patients/updateSettings",{settings:e,user:a}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},getPatientSettings:function(e){return function(a){k.a.get("/api/patients/getSettings/".concat(e)).then(function(e){return a({type:"GET_SETTINGS",data:e.data})}).catch(function(e){return console.log(e)})}}})(Object(D.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(17),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},paperConfig:{width:"60vw",height:"100%",margin:"2em auto",padding:"2em"},dateField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},headerConfig:{marginBottom:"3vh",marginTop:"3vh"},btn:{margin:"3em 0 1em 1em",width:"10vw"},spaceAround:{display:"flex",justifyContent:"space-between"}}})(Ir)),_r={monday:{fromMonday:"08:00",toMonday:"18:00"},tuesday:{fromTuesday:"08:00",toTuesday:"18:00"},wednesday:{fromWednesday:"08:00",toWednesday:"18:00"},thursday:{fromThursday:"08:00",toThursday:"18:00"},friday:{fromFriday:"08:00",toFriday:"18:00"}},Wr=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleExpand=function(e){return function(a,n){t.setState({expanded:!!n&&e})}},t.handleCloseSnackBar=function(){t.setState({openSnackBar:!1})},t.onChangeSettings=function(e){t.setState(Object(K.a)({},e.target.name,e.target.value))},t.onChangeAddress=function(e){t.setState({address:Object.assign({},t.state.address,Object(K.a)({},e.target.name,e.target.value))})},t.onChangeUniversity=function(e){t.setState({university:Object.assign({},t.state.university,Object(K.a)({},e.target.name,e.target.value))})},t.componentDidMount=function(){t.props.getDoctorSettings(t.props.auth.user.id)},t.handleDateChange=function(e){console.log("changed");var a=e.target,n=a.name,r=a.value,l=n.match(/[A-Z].+/g)[0].toLowerCase();switch(l){case"monday":_r.monday=t.assignSchedule(n,r,l);break;case"tuesday":_r.tuesday=t.assignSchedule(n,r,l);break;case"wednesday":_r.wednesday=t.assignSchedule(n,r,l);break;case"thursday":_r.thursday=t.assignSchedule(n,r,l);break;case"friday":_r.friday=t.assignSchedule(n,r,l);break;default:throw new Error("Shit in switch on doctor settings")}t.setState(t.state)},t.SetSchedule=function(){var e=t.props.classes;return r.a.createElement("div",{className:"grid-schedule"},r.a.createElement(M.a,{variant:"h6"},"Monday"),r.a.createElement(M.a,{variant:"body2"},"From: "),r.a.createElement(Ge.a,{id:"time",value:_r.monday.fromMonday,inputProps:{step:300},className:e.timeWidth,name:"fromMonday",onChange:t.handleDateChange,type:"time"}),r.a.createElement(M.a,{variant:"body2"},"To: "),r.a.createElement(Ge.a,{id:"time",value:_r.monday.toMonday,inputProps:{step:300},className:e.timeWidth,name:"toMonday",onChange:t.handleDateChange,type:"time"}),r.a.createElement(M.a,{variant:"h6"},"Tuesday"),r.a.createElement(M.a,{variant:"body2"},"From: "),r.a.createElement(Ge.a,{id:"time",value:_r.tuesday.fromTuesday,inputProps:{step:300},name:"fromTuesday",onChange:t.handleDateChange,type:"time"}),r.a.createElement(M.a,{variant:"body2"},"To: "),r.a.createElement(Ge.a,{id:"time",value:_r.tuesday.toTuesday,inputProps:{step:300},name:"toTuesday",onChange:t.handleDateChange,type:"time"}),r.a.createElement(M.a,{variant:"h6"},"Wednesday"),r.a.createElement(M.a,{variant:"body2"},"From: "),r.a.createElement(Ge.a,{id:"time",value:_r.wednesday.fromWednesday,inputProps:{step:300},name:"fromWednesday",onChange:t.handleDateChange,type:"time"}),r.a.createElement(M.a,{variant:"body2"},"To: "),r.a.createElement(Ge.a,{id:"time",value:_r.wednesday.toWednesday,inputProps:{step:300},name:"toWednesday",onChange:t.handleDateChange,type:"time"}),r.a.createElement(M.a,{variant:"h6"},"Thursday"),r.a.createElement(M.a,{variant:"body2"},"From: "),r.a.createElement(Ge.a,{id:"time",value:_r.thursday.fromThursday,inputProps:{step:300},name:"fromThursday",onChange:t.handleDateChange,type:"time"}),r.a.createElement(M.a,{variant:"body2"},"To: "),r.a.createElement(Ge.a,{id:"time",value:_r.thursday.toThursday,inputProps:{step:300},name:"toThursday",onChange:t.handleDateChange,type:"time"}),r.a.createElement(M.a,{variant:"h6"},"Friday"),r.a.createElement(M.a,{variant:"body2"},"From: "),r.a.createElement(Ge.a,{id:"time",value:_r.friday.fromFriday,inputProps:{step:300},name:"fromFriday",onChange:t.handleDateChange,type:"time"}),r.a.createElement(M.a,{variant:"body2"},"To: "),r.a.createElement(Ge.a,{id:"time",value:_r.friday.toFriday,inputProps:{step:300},name:"toFriday",onChange:t.handleDateChange,type:"time"}))},t.onSave=function(e){t.setState({schedule:_r}),t.props.updateDoctorSettings(t.state,t.props.auth.user.id),t.setState({openSnackBar:!0})},t.state={expanded:null,openSnackBar:!1,birthday:"",sex:"",workPhone:"",yearsOfPractice:"",achievements:"",clinicName:"",cabinet:"",specialty:"",address:{street:"",city:"",number:""},university:{univCity:"",univName:"",yearOfEntry:"",yearOfOut:"",univSpecialty:""},schedule:{monday:{fromMonday:"08:00",toMonday:"18:00"},tuesday:{fromTuesday:"08:00",toTuesday:"18:00"},wednesday:{fromWednesday:"08:00",toWednesday:"18:00"},thursday:{fromThursday:"08:00",toThursday:"18:00"},friday:{fromFriday:"08:00",toFriday:"18:00"}}},t.handleExpand=t.handleExpand.bind(Object(Q.a)(Object(Q.a)(t))),t.handleCloseSnackBar=t.handleCloseSnackBar.bind(Object(Q.a)(Object(Q.a)(t))),t.onChangeSettings=t.onChangeSettings.bind(Object(Q.a)(Object(Q.a)(t))),t.onChangeAddress=t.onChangeAddress.bind(Object(Q.a)(Object(Q.a)(t))),t.onChangeUniversity=t.onChangeUniversity.bind(Object(Q.a)(Object(Q.a)(t))),t.assignSchedule=t.assignSchedule.bind(Object(Q.a)(Object(Q.a)(t))),t.handleDateChange=t.handleDateChange.bind(Object(Q.a)(Object(Q.a)(t))),t.SetSchedule=t.SetSchedule.bind(Object(Q.a)(Object(Q.a)(t))),t.onSave=t.onSave.bind(Object(Q.a)(Object(Q.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"assignSchedule",value:function(e,a,t){return Object.assign({},this.state.schedule[t],Object(K.a)({},e,a))}},{key:"componentWillReceiveProps",value:function(e){e.settings&&(this.setState(Object.assign({},e.settings)),_r=e.settings.schedule)}},{key:"render",value:function(){var e=this.props.classes,a=this.state.expanded;return r.a.createElement("div",{className:e.root},r.a.createElement(ea,{userRole:"Doctor",back:!0,toLocation:"/doctor/home"}),r.a.createElement(Z.a,{elevation:5,className:e.paperConfig},r.a.createElement(M.a,{variant:"h4",className:e.headerConfig},"General Settings"),r.a.createElement(Ia.a,{expanded:"panel1"===a,onChange:this.handleExpand("panel1")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Date of Birth"),r.a.createElement(M.a,{className:e.secondaryHeading},"Please input your birthday, so we know your age")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"date",variant:"outlined",value:this.state.birthday||"2000-01-01",inputProps:{step:300},name:"birthday",onChange:this.onChangeSettings,className:e.dateField,label:""}))),r.a.createElement(Ia.a,{expanded:"panel2"===a,onChange:this.handleExpand("panel2")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Sex"),r.a.createElement(M.a,{className:e.secondaryHeading},"Set your sex")),r.a.createElement(Fa.a,null,r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(pe.a,{"aria-label":"Gender",name:"sex",value:this.state.sex,onChange:this.onChangeSettings},r.a.createElement(be.a,{value:"female",control:r.a.createElement(Ee.a,null),label:"Female"}),r.a.createElement(be.a,{value:"male",control:r.a.createElement(Ee.a,null),label:"Male"}))))),r.a.createElement(Ia.a,{expanded:"panel3"===a,onChange:this.handleExpand("panel3")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Alma-mater"),r.a.createElement(M.a,{className:e.secondaryHeading},"Give us data about place where you were studying")),r.a.createElement(Fa.a,{className:"flex flex-wrap"},r.a.createElement(Ge.a,{fullWidth:!0,name:"univCity",onChange:this.onChangeUniversity,variant:"outlined",value:this.state.university.univCity,label:"Write the city where you were studying",placeholder:"i.e. Kyiv, Kharkiv, Warsaw",className:"".concat(e.halfWidth," ").concat(e.marginInput)}),r.a.createElement(Ge.a,{fullWidth:!0,name:"univName",onChange:this.onChangeUniversity,variant:"outlined",value:this.state.university.univName,label:"Write name of your educational institution",placeholder:"i.e. Bogomolets Nationsl Medical University",className:"".concat(e.halfWidth," ").concat(e.marginInput)}),r.a.createElement(Ge.a,{name:"yearOfEntry",variant:"outlined",type:"number",value:this.state.university.yearOfEntry,label:"Year of entry",onChange:this.onChangeUniversity,placeholder:"i.e. 2006",className:"".concat(e.marginInput," ").concat(e.quarterWidth)}),r.a.createElement(Ge.a,{name:"yearOfOut",variant:"outlined",type:"number",value:this.state.university.yearOfOut,label:"Graduation year",onChange:this.onChangeUniversity,placeholder:"i.e. 2012",className:"".concat(e.marginInput," ").concat(e.quarterWidth)}),r.a.createElement(Ge.a,{name:"univSpecialty",variant:"outlined",label:"Your specialty",value:this.state.university.univSpecialty,onChange:this.onChangeUniversity,placeholder:"i.e. surgery",className:"".concat(e.marginInput," ").concat(e.halfWidth)}))),r.a.createElement(Ia.a,{expanded:"panel4"===a,onChange:this.handleExpand("panel4")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Years of practice"),r.a.createElement(M.a,{className:e.secondaryHeading},"How many years of medical practice do you have?")),r.a.createElement(Fa.a,null,r.a.createElement(ar.a,{value:this.state.yearsOfPractice,name:"yearsOfPractice",onChange:this.onChangeSettings,variant:"outlined",className:e.selectField},r.a.createElement(we.a,{value:"0-3"},"0-3 years"),r.a.createElement(we.a,{value:"3-5"},"3-5 years"),r.a.createElement(we.a,{value:"5-10"},"5-10 years"),r.a.createElement(we.a,{value:"10-15"},"10-15 years"),r.a.createElement(we.a,{value:"15+"},"15+ years")))),r.a.createElement(Ia.a,{expanded:"panel5"===a,onChange:this.handleExpand("panel5")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Work Phone Number"),r.a.createElement(M.a,{className:e.secondaryHeading},"Give us your work phone number, so that patients can contact with you")),r.a.createElement(Fa.a,null,r.a.createElement("div",{className:"flex flex-center"},r.a.createElement(M.a,{variant:"h6"},"+38"),r.a.createElement(Ge.a,{type:"number",className:e.dateField,label:"Phone number",value:this.state.workPhone,name:"workPhone",InputProps:{inputProps:{max:10}},onChange:this.onChangeSettings,placeholder:"(XXX)-123-45-67",variant:"outlined"})))),r.a.createElement(Ia.a,{expanded:"panel6"===a,onChange:this.handleExpand("panel6")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Special achievements"),r.a.createElement(M.a,{className:e.secondaryHeading},"Here you can write your special achievements you are proud of")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{name:"achievements",multiline:!0,fullWidth:!0,value:this.state.achievements,onChange:this.onChangeSettings,label:"Your contests, diplomasm certificates, etc",variant:"outlined",placeholder:"Separate with commas"}))),r.a.createElement(M.a,{variant:"h4",className:e.headerConfig},"About your current work organisation"),r.a.createElement(Ia.a,{expanded:"panel7"===a,onChange:this.handleExpand("panel7")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Name"),r.a.createElement(M.a,{className:e.secondaryHeading},"How full name of your job place?")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{fullWidth:!0,name:"clinicName",value:this.state.clinicName,onChange:this.onChangeSettings,label:"Full name",variant:"outlined",placeholder:"i.e. Kyiv City Clinical Hospital"}))),r.a.createElement(Ia.a,{expanded:"panel8"===a,onChange:this.handleExpand("panel8")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Address"),r.a.createElement(M.a,{className:e.secondaryHeading},"Please input address of your clinic")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{type:"text",fullWidth:!0,className:e.marginInput,onChange:this.onChangeAddress,name:"city",value:this.state.address.city,variant:"outlined",label:"City",placeholder:"i.e. Kyiv, Kharkiv, Odessa"}),r.a.createElement(Ge.a,{type:"text",fullWidth:!0,className:e.marginInput,onChange:this.onChangeAddress,name:"street",variant:"outlined",value:this.state.address.street,label:"Street",placeholder:"i.e. Ivana Franka, Zelena"}),r.a.createElement(Ge.a,{type:"text",fullWidth:!0,className:e.marginInput,onChange:this.onChangeAddress,name:"number",value:this.state.address.number,variant:"outlined",label:"Building number",placeholder:"i.e. 46"}))),r.a.createElement(Ia.a,{expanded:"panel9"===a,onChange:this.handleExpand("panel9")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Cabinet"),r.a.createElement(M.a,{className:e.secondaryHeading},"? of your cabinet")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{name:"cabinet",onChange:this.onChangeSettings,label:"Number",value:this.state.cabinet,variant:"outlined",placeholder:"i.e. 234"}))),r.a.createElement(Ia.a,{expanded:"panel10"===a,onChange:this.handleExpand("panel10")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Specialty"),r.a.createElement(M.a,{className:e.secondaryHeading},"Your current specialty")),r.a.createElement(Fa.a,null,r.a.createElement(Ge.a,{fullWidth:!0,name:"specialty",value:this.state.specialty,onChange:this.onChangeSettings,label:"Current specialty",variant:"outlined",placeholder:"i.e. Physician"}))),r.a.createElement(Ia.a,{expanded:"panel11"===a,onChange:this.handleExpand("panel11")},r.a.createElement(_a.a,{expandIcon:r.a.createElement(za.a,null)},r.a.createElement(M.a,{className:e.heading},"Schedule"),r.a.createElement(M.a,{className:e.secondaryHeading},"Set your working schedule")),r.a.createElement(Fa.a,null,this.SetSchedule())),r.a.createElement("div",{className:"flex flex-end"},r.a.createElement(R.a,{variant:"outlined",hred:"/doctor/home",color:"secondary",className:e.btn},"Cancel"),r.a.createElement(R.a,{variant:"contained",onClick:this.onSave,color:"secondary",className:e.btn},"Save"))),r.a.createElement(He.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.openSnackBar,autoHideDuration:4e3,onClose:this.handleCloseSnackBar,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"Saved"),action:[r.a.createElement(Mr.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:this.handleCloseSnackBar},r.a.createElement(Oa.a,null))]}))}}]),a}(n.Component),Fr=Object(w.b)(function(e){return{auth:e.auth,general:e.general,settings:e.settings}},{updateDoctorSettings:function(e,a){return function(t){k.a.post("/api/doctors/updateSettings",{settings:e,user:a}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},getDoctorSettings:function(e){return function(a){k.a.get("/api/doctors/getSettings/".concat(e)).then(function(e){return a({type:"GET_SETTINGS",data:e.data})}).catch(function(e){return console.log(e)})}}})(Object(D.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(17),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},paperConfig:{width:"60vw",height:"100%",margin:"2em auto",padding:"2em"},marginInput:{margin:"1% 1% 1% 0"},headerConfig:{marginBottom:"3vh",marginTop:"3vh"},btn:{margin:"3em 0 1em 1em",width:"10vw"},halfWidth:{width:"48%"},quarterWidth:{width:"23.5%"},selectField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},timeWidth:{width:"7vw"}}})(Wr));if(localStorage.jwtToken){x(localStorage.jwtToken);var Lr=A()(localStorage.jwtToken);S.dispatch(le(Lr))}var zr=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(w.a,{store:S},r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(h.a,{exact:!0,path:"/",component:V}),r.a.createElement(h.a,{exact:!0,path:"/register",component:ve}),r.a.createElement(h.a,{exact:!0,path:"/login",component:oe}),r.a.createElement(p.a,null,r.a.createElement(je,{exact:!0,path:"/patient/home",component:Dr}),r.a.createElement(Ne,{exact:!0,path:"/doctor/home",component:cn}),r.a.createElement(je,{exact:!0,path:"/patient/home/settings",component:Rr}),r.a.createElement(Ne,{exact:!0,path:"/doctor/home/settings",component:Fr})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(zr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[204,2,1]]]);
//# sourceMappingURL=main.8158db48.chunk.js.map